From: =?gb2312?B?08kgV2luZG93cyBJbnRlcm5ldCBFeHBsb3JlciA5ILGjtOY=?=
Subject: Online Homework Assessment
Date: Fri, 6 Jan 2012 12:15:39 +0800
MIME-Version: 1.0
Content-Type: multipart/related;
	type="text/html";
	boundary="----=_NextPart_000_0000_01CCCC6C.E76A4F20"
X-MimeOLE: Produced By Microsoft MimeOLE V6.1.7601.17609

这是 MIME 格式的多方邮件。

------=_NextPart_000_0000_01CCCC6C.E76A4F20
Content-Type: text/html;
	charset="utf-8"
Content-Transfer-Encoding: base64
Content-Location: http://os.zju.edu.cn/exercise/assessment/printtest.php

77u/PCFET0NUWVBFIEhUTUwgUFVCTElDICItLy9XM0MvL0RURCBIVE1MIDQuMDEgVHJhbnNpdGlv
bmFsLy9FTiIgImh0dHA6Ly93d3cudzNjLm9yZy9UUi8xOTk5L1JFQy1odG1sNDAxLTE5OTkxMjI0
L2xvb3NlLmR0ZCI+DQo8IURPQ1RZUEUgaHRtbCBQVUJMSUMgIi0vL1czQy8vRFREIFhIVE1MIDEu
MCBUcmFuc2l0aW9uYWwvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvVFIveGh0bWwxL0RURC94aHRt
bDEtdHJhbnNpdGlvbmFsLmR0ZCI+PEhUTUw+PEhFQUQ+DQo8VElUTEU+T25saW5lIEhvbWV3b3Jr
IEFzc2Vzc21lbnQ8L1RJVExFPg0KPE1FVEEgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0
Zi04IiBodHRwLWVxdWl2PSJDb250ZW50LVR5cGUiPg0KPFNDUklQVCB0eXBlPSJ0ZXh0L2phdmFz
Y3JpcHQiPgpmdW5jdGlvbiBpbml0KCkgewoJZm9yICh2YXIgaT0wOyBpPGluaXRzdGFjay5sZW5n
dGg7IGkrKykgewoJCXZhciBmb28gPSBpbml0c3RhY2tbaV0oKTsKCX0KfQppbml0c3RhY2sgPSBu
ZXcgQXJyYXkoKTsKd2luZG93Lm9ubG9hZCA9IGluaXQ7CjwvU0NSSVBUPg0KPExJTksgcmVsPSJz
dHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iaHR0cDovL29zLnpqdS5lZHUuY24vZXhl
cmNpc2UvYXNzZXNzbWVudC9tYXRodGVzdC5jc3MiPg0KPExJTksgcmVsPSJzdHlsZXNoZWV0IiB0
eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iaHR0cDovL29zLnpqdS5lZHUuY24vZXhlcmNpc2UvYXNzZXNz
bWVudC9wcmludC5jc3MiIA0KbWVkaWE9InByaW50Ij4NCjxTQ1JJUFQgdHlwZT0idGV4dC9qYXZh
c2NyaXB0Ij52YXIgQU1UY2dpbG9jID0gImh0dHA6Ly93d3cuaW1hdGhhcy5jb20vY2dpLWJpbi9t
aW1ldGV4LmNnaSI7PC9TQ1JJUFQ+DQoNCjxTQ1JJUFQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBz
cmM9Imh0dHA6Ly9vcy56anUuZWR1LmNuL2V4ZXJjaXNlL2phdmFzY3JpcHQvQVNDSUlNYXRoVGVY
SW1nLmpzIj48L1NDUklQVD4NCg0KPFNDUklQVCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0i
aHR0cDovL29zLnpqdS5lZHUuY24vZXhlcmNpc2UvamF2YXNjcmlwdC9tYXRoanMuanMiPjwvU0NS
SVBUPg0KDQo8U0NSSVBUIHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJodHRwOi8vb3Muemp1
LmVkdS5jbi9leGVyY2lzZS9qYXZhc2NyaXB0L0FNaGVscGVycy5qcyI+PC9TQ1JJUFQ+DQoNCjxT
Q1JJUFQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Imh0dHA6Ly9vcy56anUuZWR1LmNuL2V4
ZXJjaXNlL2phdmFzY3JpcHQvY29uZmlybXN1Ym1pdC5qcyI+PC9TQ1JJUFQ+DQo8IS0tW2lmIElF
XT4NCjxTQ1JJUFQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Imh0dHA6Ly9vcy56anUuZWR1
LmNuL2V4ZXJjaXNlL2phdmFzY3JpcHQvZXhjYW52YXMuanMiPjwvU0NSSVBUPg0KPCFbZW5kaWZd
LS0+DQo8U0NSSVBUIHNyYz0iaHR0cDovL29zLnpqdS5lZHUuY24vZXhlcmNpc2UvamF2YXNjcmlw
dC9kcmF3aW5nLmpzIj48L1NDUklQVD4NCg0KPFNDUklQVCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQi
PmltYXNyb290ID0gJy9leGVyY2lzZSc7PC9TQ1JJUFQ+DQoNCjxTQ1JJUFQ+dmFyIGVkaXRvcm5h
bWVzID0gbmV3IEFycmF5KCk7IGZ1bmN0aW9uIGluaXRFZGl0b3IoKSB7IH07PC9TQ1JJUFQ+DQoN
CjxNRVRBIG5hbWU9IkdFTkVSQVRPUiIgY29udGVudD0iTVNIVE1MIDkuMDAuODExMi4xNjQ0MCI+
PC9IRUFEPg0KPEJPRFk+DQo8RElWIGNsYXNzPSJtYWluIj4NCjxTVFlMRSB0eXBlPSJ0ZXh0L2Nz
cyI+cC50aXBzIHsJZGlzcGxheTogbm9uZTt9CiBpbnB1dC5idG4ge2Rpc3BsYXk6IG5vbmU7fQog
dGV4dGFyZWEge2Rpc3BsYXk6IG5vbmU7fQo8L1NUWUxFPg0KDQo8SDQgc3R5bGU9ImZsb2F0OiBy
aWdodDsiPk5hbWU6IOW8oCDovr7otK8gPC9IND4NCjxIMz7mk43kvZzns7vnu5/liIbmnpDlj4rl
rp7pqoznu4PkuaDpopgyPC9IMz4NCjxESVYgY2xhc3M9ImJyZWFkY3J1bWIiPlByaW50IFJlYWR5
IFZlcnNpb248L0RJVj4NCjxESVYgY2xhc3M9ImludHJvIj4NCjxQPkVudGVyIGludHJvL2luc3Ry
dWN0aW9uczwvUD48L0RJVj4NCjxESVY+IzEgUG9pbnRzIHBvc3NpYmxlOiAxMDwvRElWPg0KPERJ
ViBjbGFzcz0icXVlc3Rpb24iPg0KPERJVj7nlKjlkb3ku6RscyAtYWzmmL7npLrlh7rmlofku7Zm
b3JrLmPnmoTmj4/ov7DlpoLkuIvvvIznlLHmraTlj6/nn6Xmlofku7Zmb3JrLmPnmoTnsbvlnovk
uLpfX19fX19fX+OAgg0KPFA+LXJ3eHIteHItLSAgMSAgcm9vdCAgIHJvb3QgIDU5OSAgRGVjIDEw
IDE3OjEyICAgZm9yay5jPC9QPjwvRElWPg0KPERJViBjbGFzcz0idG9wcGFkIj4NCjxVTCBjbGFz
cz0ibm9tYXJrIj4NCiAgPExJPjxJTlBVVCBuYW1lPSJxbjAiIHZhbHVlPSIwIiB0eXBlPSJyYWRp
byI+56ym5Y+36L+e5o6l5paH5Lu2IDwvTEk+DQogIDxMST48SU5QVVQgbmFtZT0icW4wIiB2YWx1
ZT0iMSIgdHlwZT0icmFkaW8iPuiuvuWkh+aWh+S7tiA8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9
InFuMCIgdmFsdWU9IjIiIHR5cGU9InJhZGlvIj7nm67lvZXmlofku7YgPC9MST4NCiAgPExJPjxJ
TlBVVCBuYW1lPSJxbjAiIHZhbHVlPSIzIiBDSEVDS0VEPSIiIHR5cGU9InJhZGlvIj7mma7pgJrm
lofku7Y8L0xJPjwvVUw+PC9ESVY+DQo8RElWPg0KPFAgY2xhc3M9InRpcHMiPkJveCAxOiBTZWxl
Y3QgdGhlIGJlc3QgYW5zd2VyPC9QPjwvRElWPjwvRElWPg0KPEhSPg0KDQo8RElWPiMyIFBvaW50
cyBwb3NzaWJsZTogMTA8L0RJVj4NCjxESVYgY2xhc3M9InF1ZXN0aW9uIj4NCjxESVY+TGludXjk
uLrmr4/kuIDkuKrmlofku7bns7vnu5/orr7nva7kuoZtYWdpYyBudW1iZXLvvIzlhbbkvZznlKjm
mK9fX19fX+OAgjwvRElWPg0KPERJViBjbGFzcz0idG9wcGFkIj4NCjxVTCBjbGFzcz0ibm9tYXJr
Ij4NCiAgPExJPjxJTlBVVCBuYW1lPSJxbjEiIHZhbHVlPSIwIiB0eXBlPSJyYWRpbyI+5o+P6L+w
5paH5Lu257O757uf55qE57G75Z6LIDwvTEk+DQogIDxMST48SU5QVVQgbmFtZT0icW4xIiB2YWx1
ZT0iMSIgdHlwZT0icmFkaW8iPuiusOW9leS6huivpeaWh+S7tuezu+e7n+S4reaWh+S7tuOAgeeb
ruW9leaAu+aVsCA8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMSIgdmFsdWU9IjIiIENIRUNL
RUQ9IiIgdHlwZT0icmFkaW8iPiDllK/kuIDooajnpLror6Xmlofku7bns7vnu5/nmoRpZCA8L0xJ
Pg0KICA8TEk+PElOUFVUIG5hbWU9InFuMSIgdmFsdWU9IjMiIHR5cGU9InJhZGlvIj4g6KGo6L6+
5LqG5YWx5Lqr6K+l5paH5Lu257O757uf55qE6L+b56iL5pWwPC9MST48L1VMPjwvRElWPg0KPERJ
Vj4NCjxQIGNsYXNzPSJ0aXBzIj5Cb3ggMTogU2VsZWN0IHRoZSBiZXN0IGFuc3dlcjwvUD48L0RJ
Vj48L0RJVj4NCjxIUj4NCg0KPERJVj4jMyBQb2ludHMgcG9zc2libGU6IDEwPC9ESVY+DQo8RElW
IGNsYXNzPSJxdWVzdGlvbiI+DQo8RElWPkxpbnV455qE57O757uf6LCD55SoZm9yaygp5Yib5bu6
5LiA5Liq5a2Q6L+b56iL44CC5Zyo5omA5Yib5bu655qE5a2Q6L+b56iL6YeM77yMZm9yaygpX19f
X1/jgII8L0RJVj4NCjxESVYgY2xhc3M9InRvcHBhZCI+DQo8VUwgY2xhc3M9Im5vbWFyayI+DQog
IDxMST48SU5QVVQgbmFtZT0icW4yIiB2YWx1ZT0iMCIgQ0hFQ0tFRD0iIiB0eXBlPSJyYWRpbyI+
6L+U5Zue5YC85Li6MCA8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMiIgdmFsdWU9IjEiIHR5
cGU9InJhZGlvIj7ov5Tlm57lgLzlpKfkuo4wIDwvTEk+DQogIDxMST48SU5QVVQgbmFtZT0icW4y
IiB2YWx1ZT0iMiIgdHlwZT0icmFkaW8iPiDov5Tlm57niLbov5vnqIvnmoRwaWQgPC9MST4NCiAg
PExJPjxJTlBVVCBuYW1lPSJxbjIiIHZhbHVlPSIzIiB0eXBlPSJyYWRpbyI+5LiN6L+U5Zue5Lu7
5L2V5YC8IDwvTEk+PC9VTD48L0RJVj4NCjxESVY+DQo8UCBjbGFzcz0idGlwcyI+Qm94IDE6IFNl
bGVjdCB0aGUgYmVzdCBhbnN3ZXI8L1A+PC9ESVY+PC9ESVY+DQo8SFI+DQoNCjxESVY+IzQgUG9p
bnRzIHBvc3NpYmxlOiAxMDwvRElWPg0KPERJViBjbGFzcz0icXVlc3Rpb24iPg0KPERJVj5DUFXo
sIPluqbnrpfms5VfX19fX+ayoeacieWcqExJTlVY55qEMi4254mI5Lit5L2/55So44CCPC9ESVY+
DQo8RElWIGNsYXNzPSJ0b3BwYWQiPg0KPFVMIGNsYXNzPSJub21hcmsiPg0KICA8TEk+PElOUFVU
IG5hbWU9InFuMyIgdmFsdWU9IjAiIENIRUNLRUQ9IiIgdHlwZT0icmFkaW8iPlNKRjwvTEk+DQog
IDxMST48SU5QVVQgbmFtZT0icW4zIiB2YWx1ZT0iMSIgdHlwZT0icmFkaW8iPiAgRkNGUyAgICAg
PC9MST4NCiAgPExJPjxJTlBVVCBuYW1lPSJxbjMiIHZhbHVlPSIyIiB0eXBlPSJyYWRpbyI+Uk9V
TkQgUk9CSU4gPC9MST4NCiAgPExJPjxJTlBVVCBuYW1lPSJxbjMiIHZhbHVlPSIzIiB0eXBlPSJy
YWRpbyI+UFJJT1JJVFkgPC9MST48L1VMPjwvRElWPg0KPERJVj4NCjxQIGNsYXNzPSJ0aXBzIj5C
b3ggMTogU2VsZWN0IHRoZSBiZXN0IGFuc3dlcjwvUD48L0RJVj48L0RJVj4NCjxIUj4NCg0KPERJ
Vj4jNSBQb2ludHMgcG9zc2libGU6IDEwPC9ESVY+DQo8RElWIGNsYXNzPSJxdWVzdGlvbiI+DQo8
RElWPuS4uuS6huiDveWkn+aKiuaWsOW7uueri+eahOaWh+S7tuezu+e7n+WuieijheWIsExpbnV4
57O757uf55uu5b2V5Lit77yM5oiR5Lus6L+Y6ZyA6KaB5oyH5a6a6K+l5paH5Lu257O757uf55qE
5Zyo5pW05Liq55uu5b2V57uT5p6E5Lit55qE5L2N572u77yM5oiW56ew5Li6X19fX18gLjwvRElW
Pg0KPERJViBjbGFzcz0idG9wcGFkIj4NCjxVTCBjbGFzcz0ibm9tYXJrIj4NCiAgPExJPjxJTlBV
VCBuYW1lPSJxbjQiIHZhbHVlPSIwIiB0eXBlPSJyYWRpbyI+5a2Q55uu5b2VIDwvTEk+DQogIDxM
ST48SU5QVVQgbmFtZT0icW40IiB2YWx1ZT0iMSIgQ0hFQ0tFRD0iIiB0eXBlPSJyYWRpbyI+5Yqg
6L2954K5IDwvTEk+DQogIDxMST48SU5QVVQgbmFtZT0icW40IiB2YWx1ZT0iMiIgdHlwZT0icmFk
aW8iPuaWsOWIhuWMuiA8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuNCIgdmFsdWU9IjMiIHR5
cGU9InJhZGlvIj7nm67lvZXmoJEgPC9MST48L1VMPjwvRElWPg0KPERJVj4NCjxQIGNsYXNzPSJ0
aXBzIj5Cb3ggMTogU2VsZWN0IHRoZSBiZXN0IGFuc3dlcjwvUD48L0RJVj48L0RJVj4NCjxIUj4N
Cg0KPERJVj4jNiBQb2ludHMgcG9zc2libGU6IDEwPC9ESVY+DQo8RElWIGNsYXNzPSJxdWVzdGlv
biI+DQo8RElWPuS4i+WIl+WFs+S6jkxpbnV45YaF5qC455qE6K+05rOV77yM5q2j56Gu55qE5piv
X19fX19fX18uPC9ESVY+DQo8RElWIGNsYXNzPSJ0b3BwYWQiPg0KPFVMIGNsYXNzPSJub21hcmsi
Pg0KICA8TEk+PElOUFVUIG5hbWU9InFuNSIgdmFsdWU9IjAiIA0KICB0eXBlPSJyYWRpbyI+5YaF
5qC45rqQ5Luj56CB5Y+q6KaB6YCa6L+H57yW6K+R77yM55Sf5oiQ5LqG5Y+v5omn6KGM5Luj56CB
5paH5Lu277yI5L6L5aaCYnpJbWFnZe+8ie+8jOWwsei1t+S9nOeUqOS6huOAgjwvTEk+DQogIDxM
ST48SU5QVVQgbmFtZT0icW41IiB2YWx1ZT0iMSIgQ0hFQ0tFRD0iIiANCiAgdHlwZT0icmFkaW8i
PuWGheaguOa6kOS7o+eggemAmui/h+e8luivke+8jOeUn+aIkOWPr+aJp+ihjOS7o+eggeaWh+S7
tuWQju+8jOW/hemhu+WuieijheWcqC9ib29055uu5b2V5LiL77yM5omN6LW35L2c55So44CCIDwv
TEk+DQogIDxMST48SU5QVVQgbmFtZT0icW41IiB2YWx1ZT0iMiIgDQogIHR5cGU9InJhZGlvIj5M
aW51eOacieWkmuenjeWPkeihjOeJiOacrO+8jOWmgnVidW50deOAgWRlYmlhbuOAguS9huaYr+WF
tuWGheaguOWdh+mBteW+qkdOVeeahEdQTOOAgiA8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFu
NSIgdmFsdWU9IjMiIA0KICB0eXBlPSJyYWRpbyI+TGludXjlhoXmoLjnmoTnu53lpKfpg6jliIbm
upDku6PnoIHmmK/lhazlvIDnmoTvvIzpmaTkuobmnoHlsJHph4/kuI5DUFXnsbvlnovlr4bliIfn
m7jlhbPnmoTku6PnoIHmrrXjgIIgPC9MST48L1VMPjwvRElWPg0KPERJVj4NCjxQIGNsYXNzPSJ0
aXBzIj5Cb3ggMTogU2VsZWN0IHRoZSBiZXN0IGFuc3dlcjwvUD48L0RJVj48L0RJVj4NCjxIUj4N
Cg0KPERJVj4jNyBQb2ludHMgcG9zc2libGU6IDEwPC9ESVY+DQo8RElWIGNsYXNzPSJxdWVzdGlv
biI+DQo8RElWPkxpbnV457O757uf5Lit77yM6Jma5ouf5a2Y5YKo566h55CG5pa55rOV5Li76KaB
6YeH55SoX19fX19fX19f44CCPC9ESVY+DQo8RElWIGNsYXNzPSJ0b3BwYWQiPg0KPFVMIGNsYXNz
PSJub21hcmsiPg0KICA8TEk+PElOUFVUIG5hbWU9InFuNiIgdmFsdWU9IjAiIHR5cGU9InJhZGlv
Ij7lr7nmjaLmioDmnK8gPC9MST4NCiAgPExJPjxJTlBVVCBuYW1lPSJxbjYiIHZhbHVlPSIxIiB0
eXBlPSJyYWRpbyI+6K+35rGC5q616aG15byP5a2Y5YKo566h55CGIDwvTEk+DQogIDxMST48SU5Q
VVQgbmFtZT0icW42IiB2YWx1ZT0iMiIgdHlwZT0icmFkaW8iPuivt+axguauteW8j+WtmOWCqOeu
oeeQhiA8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuNiIgdmFsdWU9IjMiIENIRUNLRUQ9IiIg
dHlwZT0icmFkaW8iPuivt+axgumhteW8j+WtmOWCqOeuoeeQhiA8L0xJPjwvVUw+DQo8L0RJVj4N
CjxESVY+DQo8UCBjbGFzcz0idGlwcyI+Qm94IDE6IFNlbGVjdCB0aGUgYmVzdCBhbnN3ZXI8L1A+
PC9ESVY+PC9ESVY+DQo8SFI+DQoNCjxESVY+IzggUG9pbnRzIHBvc3NpYmxlOiAxMDwvRElWPg0K
PERJViBjbGFzcz0icXVlc3Rpb24iPg0KPERJVj7kvb/nlKhtYWtl57yW6K+R5YaF5qC45ZCOLCDn
vJbor5HlrozmiJDlkI5iekltYWdlIOaWh+S7tuWcqOWTquS4quebruW9leS4rV9fX19fX1/jgII8
L0RJVj4NCjxESVYgY2xhc3M9InRvcHBhZCI+DQo8VUwgY2xhc3M9Im5vbWFyayI+DQogIDxMST48
SU5QVVQgbmFtZT0icW43IiB2YWx1ZT0iMCIgQ0hFQ0tFRD0iIiB0eXBlPSJyYWRpbyI+YXJjaC9p
Mzg2L2Jvb3QgPC9MST4NCiAgPExJPjxJTlBVVCBuYW1lPSJxbjciIHZhbHVlPSIxIiB0eXBlPSJy
YWRpbyI+YXJjaC9pMzg2L2ltYWdlIDwvTEk+DQogIDxMST48SU5QVVQgbmFtZT0icW43IiB2YWx1
ZT0iMiIgdHlwZT0icmFkaW8iPmFyY2gvaTM4NiA8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFu
NyIgdmFsdWU9IjMiIHR5cGU9InJhZGlvIj5hcmNoIDwvTEk+PC9VTD48L0RJVj4NCjxESVY+DQo8
UCBjbGFzcz0idGlwcyI+Qm94IDE6IFNlbGVjdCB0aGUgYmVzdCBhbnN3ZXI8L1A+PC9ESVY+PC9E
SVY+DQo8SFI+DQoNCjxESVY+IzkgUG9pbnRzIHBvc3NpYmxlOiAxMDwvRElWPg0KPERJViBjbGFz
cz0icXVlc3Rpb24iPg0KPERJVj7lnKhzdHJ1Y3QgdGFza19zdHJ1Y3Qg57uT5p6E5Lit77yM5oyH
5ZCR55So5oi36L+b56iL6Jma5ouf5Zyw5Z2A5L+h5oGv55qE5Z+f5pivX19fX19f44CCPC9ESVY+
DQo8RElWIGNsYXNzPSJ0b3BwYWQiPg0KPFVMIGNsYXNzPSJub21hcmsiPg0KICA8TEk+PElOUFVU
IG5hbWU9InFuOCIgdmFsdWU9IjAiIENIRUNLRUQ9IiIgdHlwZT0icmFkaW8iPnN0cnVjdCAqbW0g
ICAgICA8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuOCIgdmFsdWU9IjEiIHR5cGU9InJhZGlv
Ij5zdHJ1Y3QgZmlsZXNfc3RydWN0ICpmaWxlcyA8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFu
OCIgdmFsdWU9IjIiIHR5cGU9InJhZGlvIj4gc3RydWN0IGZzX3N0cnVjdCAqZnM8L0xJPg0KICA8
TEk+PElOUFVUIG5hbWU9InFuOCIgdmFsdWU9IjMiIHR5cGU9InJhZGlvIj5zdHJ1Y3QgbmFtZXNw
YWNlICpuYW1lc3BhY2UgDQo8L0xJPjwvVUw+PC9ESVY+DQo8RElWPg0KPFAgY2xhc3M9InRpcHMi
PkJveCAxOiBTZWxlY3QgdGhlIGJlc3QgYW5zd2VyPC9QPjwvRElWPjwvRElWPg0KPEhSPg0KDQo8
RElWPiMxMCBQb2ludHMgcG9zc2libGU6IDEwPC9ESVY+DQo8RElWIGNsYXNzPSJxdWVzdGlvbiI+
DQo8RElWPuaYvuekuuaJgOacieWKoOi9veaooeWdl+eahOWRveS7pOaYr19fX19fX+OAgjwvRElW
Pg0KPERJViBjbGFzcz0idG9wcGFkIj4NCjxVTCBjbGFzcz0ibm9tYXJrIj4NCiAgPExJPjxJTlBV
VCBuYW1lPSJxbjkiIHZhbHVlPSIwIiB0eXBlPSJyYWRpbyI+aW5zbW9kIDwvTEk+DQogIDxMST48
SU5QVVQgbmFtZT0icW45IiB2YWx1ZT0iMSIgdHlwZT0icmFkaW8iPmxpc3Rtb2QgPC9MST4NCiAg
PExJPjxJTlBVVCBuYW1lPSJxbjkiIHZhbHVlPSIyIiBDSEVDS0VEPSIiIHR5cGU9InJhZGlvIj5s
c21vZCA8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuOSIgdmFsdWU9IjMiIHR5cGU9InJhZGlv
Ij5tb2RpbmZvIDwvTEk+PC9VTD48L0RJVj4NCjxESVY+DQo8UCBjbGFzcz0idGlwcyI+Qm94IDE6
IFNlbGVjdCB0aGUgYmVzdCBhbnN3ZXI8L1A+PC9ESVY+PC9ESVY+DQo8SFI+DQoNCjxESVY+IzEx
IFBvaW50cyBwb3NzaWJsZTogMTA8L0RJVj4NCjxESVYgY2xhc3M9InF1ZXN0aW9uIj4NCjxESVY+
5LiL6Z2i55qE5ZOq5LiA5Liq57uT5p6E5piv5o+P6L+wVkZT55qE5LiA5Liq5paH5Lu25a+56LGh
PzwvRElWPg0KPERJViBjbGFzcz0idG9wcGFkIj4NCjxVTCBjbGFzcz0ibm9tYXJrIj4NCiAgPExJ
PjxJTlBVVCBuYW1lPSJxbjEwIiB2YWx1ZT0iMCIgdHlwZT0icmFkaW8iPnN0cnVjdCBpbm9kZSA8
L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMTAiIHZhbHVlPSIxIiBDSEVDS0VEPSIiIHR5cGU9
InJhZGlvIj5zdHJ1Y3QgZmlsZSA8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMTAiIHZhbHVl
PSIyIiB0eXBlPSJyYWRpbyI+c3RydWN0IGRlbnRyeSA8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9
InFuMTAiIHZhbHVlPSIzIiB0eXBlPSJyYWRpbyI+c3RydWN0IGZpbGVzPC9MST48L1VMPjwvRElW
Pg0KPERJVj4NCjxQIGNsYXNzPSJ0aXBzIj5Cb3ggMTogU2VsZWN0IHRoZSBiZXN0IGFuc3dlcjwv
UD48L0RJVj48L0RJVj4NCjxIUj4NCg0KPERJVj4jMTIgUG9pbnRzIHBvc3NpYmxlOiAxMDwvRElW
Pg0KPERJViBjbGFzcz0icXVlc3Rpb24iPg0KPERJVj5MaW51eOWGheaguOS4uuS6hueuoeeQhueJ
qeeQhuepuumXtO+8jOmHh+eUqOS6hl9fX19fX19f44CCPC9ESVY+DQo8RElWIGNsYXNzPSJ0b3Bw
YWQiPg0KPFVMIGNsYXNzPSJub21hcmsiPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMTEiIHZhbHVl
PSIwIiB0eXBlPSJyYWRpbyI+c3RydWN0IHBhZ2UgPC9MST4NCiAgPExJPjxJTlBVVCBuYW1lPSJx
bjExIiB2YWx1ZT0iMSIgdHlwZT0icmFkaW8iPiBCdWRkeeeul+azle+8iOS8meS8tOeul+azle+8
iSA8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMTEiIHZhbHVlPSIyIiB0eXBlPSJyYWRpbyI+
U2xhYuaKgOacryA8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMTEiIHZhbHVlPSIzIiBDSEVD
S0VEPSIiIHR5cGU9InJhZGlvIj7kuIrov7DkuInogIXpg73mmK8gPC9MST48L1VMPjwvRElWPg0K
PERJVj4NCjxQIGNsYXNzPSJ0aXBzIj5Cb3ggMTogU2VsZWN0IHRoZSBiZXN0IGFuc3dlcjwvUD48
L0RJVj48L0RJVj4NCjxIUj4NCg0KPERJVj4jMTMgUG9pbnRzIHBvc3NpYmxlOiAxMDwvRElWPg0K
PERJViBjbGFzcz0icXVlc3Rpb24iPg0KPERJVj5MaW51eOWGheaguOeahOa6kOS7o+eggeaMieWF
tuWKn+iDveexu+WIq+WtmOaUvuWcqOWQhOiHqueahOWtkOebruW9leOAguS+i+Wmgu+8jOa3u+WK
oOS4gOS4quaWh+S7tuezu+e7n+eahOS7o+egge+8jOWPr+S7peaUvuWcqF9fX19fX19f5a2Q55uu
5b2V44CCPC9ESVY+DQo8RElWIGNsYXNzPSJ0b3BwYWQiPg0KPFVMIGNsYXNzPSJub21hcmsiPg0K
ICA8TEk+PElOUFVUIG5hbWU9InFuMTIiIHZhbHVlPSIwIiB0eXBlPSJyYWRpbyI+Li9hcmNoICAg
ICAgICAgPC9MST4NCiAgPExJPjxJTlBVVCBuYW1lPSJxbjEyIiB2YWx1ZT0iMSIgQ0hFQ0tFRD0i
IiB0eXBlPSJyYWRpbyI+Li9mcyAgICAgIDwvTEk+DQogIDxMST48SU5QVVQgbmFtZT0icW4xMiIg
dmFsdWU9IjIiIHR5cGU9InJhZGlvIj4uL21tICAgICAgICAgPC9MST4NCiAgPExJPjxJTlBVVCBu
YW1lPSJxbjEyIiB2YWx1ZT0iMyIgdHlwZT0icmFkaW8iPi4va2VybmVsIDwvTEk+PC9VTD48L0RJ
Vj4NCjxESVY+DQo8UCBjbGFzcz0idGlwcyI+Qm94IDE6IFNlbGVjdCB0aGUgYmVzdCBhbnN3ZXI8
L1A+PC9ESVY+PC9ESVY+DQo8SFI+DQoNCjxESVY+IzE0IFBvaW50cyBwb3NzaWJsZTogMTA8L0RJ
Vj4NCjxESVYgY2xhc3M9InF1ZXN0aW9uIj4NCjxESVY+5Zyo57O757uf6LCD55So5aSE55CG6L+H
56iL5Lit77yM5LiL6Z2i55qE5ZOq5LiA5Liq5piv5pyA5ZCI6YCC55qE5rWB56iLPzwvRElWPg0K
PERJViBjbGFzcz0idG9wcGFkIj4NCjxVTCBjbGFzcz0ibm9tYXJrIj4NCiAgPExJPjxJTlBVVCBu
YW1lPSJxbjEzIiB2YWx1ZT0iMCIgQ0hFQ0tFRD0iIiB0eXBlPSJyYWRpbyI+Zm9yayAtJmd0OyBz
eXNfZm9yayANCiAgLSZndDsgZG9fZm9yayA8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMTMi
IHZhbHVlPSIxIiB0eXBlPSJyYWRpbyI+c3lzX2ZvcmsgLSZndDsgZm9yayAtJmd0OyANCiAgZG9f
Zm9yazwvTEk+DQogIDxMST48SU5QVVQgbmFtZT0icW4xMyIgdmFsdWU9IjIiIHR5cGU9InJhZGlv
Ij5zeXNfZm9yayAtJmd0OyBkb19mb3JrIC0mZ3Q7IA0KICBmb3JrPC9MST4NCiAgPExJPjxJTlBV
VCBuYW1lPSJxbjEzIiB2YWx1ZT0iMyIgdHlwZT0icmFkaW8iPmRvX2ZvcmsgLSZndDsgc3lzX2Zv
cmsgLSZndDsgDQogIGZvcms8L0xJPjwvVUw+PC9ESVY+DQo8RElWPg0KPFAgY2xhc3M9InRpcHMi
PkJveCAxOiBTZWxlY3QgdGhlIGJlc3QgYW5zd2VyPC9QPjwvRElWPjwvRElWPg0KPEhSPg0KDQo8
RElWPiMxNSBQb2ludHMgcG9zc2libGU6IDEwPC9ESVY+DQo8RElWIGNsYXNzPSJxdWVzdGlvbiI+
DQo8RElWPuWcqHRhc2tfc3RydWN057uT5p6E5Lit77yM5LiL6Z2i55qE5ZOq5LiA5Liq5a2X5q61
5LiN5piv55So5p2l6KGo56S66L+b56iL55qE54q25oCB77yfPC9ESVY+DQo8RElWIGNsYXNzPSJ0
b3BwYWQiPg0KPFVMIGNsYXNzPSJub21hcmsiPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMTQiIHZh
bHVlPSIwIiB0eXBlPSJyYWRpbyI+dm9sYXRpbGUgbG9uZyBzdGF0ZTwvTEk+DQogIDxMST48SU5Q
VVQgbmFtZT0icW4xNCIgdmFsdWU9IjEiIHR5cGU9InJhZGlvIj51bnNpZ25lZCBpbnQgZmxhZ3Mg
PC9MST4NCiAgPExJPjxJTlBVVCBuYW1lPSJxbjE0IiB2YWx1ZT0iMiIgdHlwZT0icmFkaW8iPmlu
dCBleGl0X3N0YXRlIDwvTEk+DQogIDxMST48SU5QVVQgbmFtZT0icW4xNCIgdmFsdWU9IjMiIENI
RUNLRUQ9IiIgdHlwZT0icmFkaW8iPnBpZF90IHBpZDwvTEk+PC9VTD4NCjwvRElWPg0KPERJVj4N
CjxQIGNsYXNzPSJ0aXBzIj5Cb3ggMTogU2VsZWN0IHRoZSBiZXN0IGFuc3dlcjwvUD48L0RJVj48
L0RJVj4NCjxIUj4NCg0KPERJVj4jMTYgUG9pbnRzIHBvc3NpYmxlOiAxMDwvRElWPg0KPERJViBj
bGFzcz0icXVlc3Rpb24iPg0KPERJVj7kuIvpnaLmiYDliJfnmoTlkI3np7DkuK3vvIwgX19fX19f
IOS4jeaYr0xpbnV46L+b56iL55qE54q25oCB44CCIDwvRElWPg0KPERJViBjbGFzcz0idG9wcGFk
Ij4NCjxVTCBjbGFzcz0ibm9tYXJrIj4NCiAgPExJPjxJTlBVVCBuYW1lPSJxbjE1IiB2YWx1ZT0i
MCIgdHlwZT0icmFkaW8iPiAg5YO15q2754q25oCBIDwvTEk+DQogIDxMST48SU5QVVQgbmFtZT0i
cW4xNSIgdmFsdWU9IjEiIENIRUNLRUQ9IiIgdHlwZT0icmFkaW8iPiDkvJHnnKDnirbmgIE8L0xJ
Pg0KICA8TEk+PElOUFVUIG5hbWU9InFuMTUiIHZhbHVlPSIyIiB0eXBlPSJyYWRpbyI+IOWPr+S4
reaWreeKtuaAgTwvTEk+DQogIDxMST48SU5QVVQgbmFtZT0icW4xNSIgdmFsdWU9IjMiIHR5cGU9
InJhZGlvIj4g5Y+v6L+Q6KGM54q25oCBPC9MST48L1VMPjwvRElWPg0KPERJVj4NCjxQIGNsYXNz
PSJ0aXBzIj5Cb3ggMTogU2VsZWN0IHRoZSBiZXN0IGFuc3dlcjwvUD48L0RJVj48L0RJVj4NCjxI
Uj4NCg0KPERJVj4jMTcgUG9pbnRzIHBvc3NpYmxlOiAxMDwvRElWPg0KPERJViBjbGFzcz0icXVl
c3Rpb24iPg0KPERJVj7lnKjkvb/nlKhtYW7lkb3ku6TnmoTluK7liqnmiYvlhozkuK0s5ZOq5LiA
6YOo5YiG5piv5p+l55yL57O757uf6LCD55So77yI5aaCZm9ya++8ieeahOivpue7huW4ruWKqeS/
oeaBr+OAgjwvRElWPg0KPERJViBjbGFzcz0idG9wcGFkIj4NCjxVTCBjbGFzcz0ibm9tYXJrIj4N
CiAgPExJPjxJTlBVVCBuYW1lPSJxbjE2IiB2YWx1ZT0iMCIgdHlwZT0icmFkaW8iPiBtYW4gMTwv
TEk+DQogIDxMST48SU5QVVQgbmFtZT0icW4xNiIgdmFsdWU9IjEiIENIRUNLRUQ9IiIgdHlwZT0i
cmFkaW8iPiBtYW4gMjwvTEk+DQogIDxMST48SU5QVVQgbmFtZT0icW4xNiIgdmFsdWU9IjIiIHR5
cGU9InJhZGlvIj4gbWFuIDM8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMTYiIHZhbHVlPSIz
IiB0eXBlPSJyYWRpbyI+IG1hbiA0IDwvTEk+PC9VTD48L0RJVj4NCjxESVY+DQo8UCBjbGFzcz0i
dGlwcyI+Qm94IDE6IFNlbGVjdCB0aGUgYmVzdCBhbnN3ZXI8L1A+PC9ESVY+PC9ESVY+DQo8SFI+
DQoNCjxESVY+IzE4IFBvaW50cyBwb3NzaWJsZTogMTA8L0RJVj4NCjxESVYgY2xhc3M9InF1ZXN0
aW9uIj4NCjxESVY+TGludXjnmoRTQ0hFRF9SUuiwg+W6puetlueVpe+8jOmAguWQiOS6jl9fX19f
X18g44CCPC9ESVY+DQo8RElWIGNsYXNzPSJ0b3BwYWQiPg0KPFVMIGNsYXNzPSJub21hcmsiPg0K
ICA8TEk+PElOUFVUIG5hbWU9InFuMTciIHZhbHVlPSIwIiB0eXBlPSJyYWRpbyI+IOi/kOihjOaX
tumXtOefreeahOWunuaXtui/m+eoizwvTEk+DQogIDxMST48SU5QVVQgbmFtZT0icW4xNyIgdmFs
dWU9IjEiIHR5cGU9InJhZGlvIj4g5Lqk5LqS5byP5YiG5pe26L+b56iLPC9MST4NCiAgPExJPjxJ
TlBVVCBuYW1lPSJxbjE3IiB2YWx1ZT0iMiIgQ0hFQ0tFRD0iIiB0eXBlPSJyYWRpbyI+IOi/kOih
jOaXtumXtOmVv+eahOWunuaXtui/m+eoizwvTEk+DQogIDxMST48SU5QVVQgbmFtZT0icW4xNyIg
dmFsdWU9IjMiIHR5cGU9InJhZGlvIj4g5om55aSE55CG6L+b56iLPC9MST48L1VMPjwvRElWPg0K
PERJVj4NCjxQIGNsYXNzPSJ0aXBzIj5Cb3ggMTogU2VsZWN0IHRoZSBiZXN0IGFuc3dlcjwvUD48
L0RJVj48L0RJVj4NCjxIUj4NCg0KPERJVj4jMTkgUG9pbnRzIHBvc3NpYmxlOiAxMDwvRElWPg0K
PERJViBjbGFzcz0icXVlc3Rpb24iPg0KPERJVj7lnKjmt7vliqDkuIDkuKrns7vnu5/osIPnlKjl
rp7pqozkuK3vvIzlnKjpgY3ljoZMaW51eOaJgOaciei/m+eoi+WQju+8jOafpeeci+i+k+WHuuS/
oeaBr+eahOWRveS7pOWPr+S7peeUqF9fX19fX19f44CCPC9ESVY+DQo8RElWIGNsYXNzPSJ0b3Bw
YWQiPg0KPFVMIGNsYXNzPSJub21hcmsiPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMTgiIHZhbHVl
PSIwIiB0eXBlPSJyYWRpbyI+IGNhdCAgL2V0Yy9tZXNnICAgICAgIDwvTEk+DQogIDxMST48SU5Q
VVQgbmFtZT0icW4xOCIgdmFsdWU9IjEiIHR5cGU9InJhZGlvIj4gdGFpbCAgICA8L0xJPg0KICA8
TEk+PElOUFVUIG5hbWU9InFuMTgiIHZhbHVlPSIyIiBDSEVDS0VEPSIiIHR5cGU9InJhZGlvIj4g
ZG1lc2cgICAgPC9MST4NCiAgPExJPjxJTlBVVCBuYW1lPSJxbjE4IiB2YWx1ZT0iMyIgdHlwZT0i
cmFkaW8iPiBjYXQgIC92YXIvbWVzZzwvTEk+PC9VTD48L0RJVj4NCjxESVY+DQo8UCBjbGFzcz0i
dGlwcyI+Qm94IDE6IFNlbGVjdCB0aGUgYmVzdCBhbnN3ZXI8L1A+PC9ESVY+PC9ESVY+DQo8SFI+
DQoNCjxESVY+IzIwIFBvaW50cyBwb3NzaWJsZTogMTA8L0RJVj4NCjxESVYgY2xhc3M9InF1ZXN0
aW9uIj4NCjxESVY+5LiL5YiX55qE5paH5Lu257O757uf77yM5ZOq5LiA5Liq5Y+q5piv5Zyo5YaF
5qC46L+Q6KGM5pe25a2Y5Zyo55qEPzwvRElWPg0KPERJViBjbGFzcz0idG9wcGFkIj4NCjxVTCBj
bGFzcz0ibm9tYXJrIj4NCiAgPExJPjxJTlBVVCBuYW1lPSJxbjE5IiB2YWx1ZT0iMCIgdHlwZT0i
cmFkaW8iPiBmYXQzMjwvTEk+DQogIDxMST48SU5QVVQgbmFtZT0icW4xOSIgdmFsdWU9IjEiIHR5
cGU9InJhZGlvIj4gZXh0MiA8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMTkiIHZhbHVlPSIy
IiB0eXBlPSJyYWRpbyI+IGV4dDMgPC9MST4NCiAgPExJPjxJTlBVVCBuYW1lPSJxbjE5IiB2YWx1
ZT0iMyIgQ0hFQ0tFRD0iIiB0eXBlPSJyYWRpbyI+IHByb2M8L0xJPjwvVUw+PC9ESVY+DQo8RElW
Pg0KPFAgY2xhc3M9InRpcHMiPkJveCAxOiBTZWxlY3QgdGhlIGJlc3QgYW5zd2VyPC9QPjwvRElW
PjwvRElWPg0KPEhSPg0KDQo8RElWPiMyMSBQb2ludHMgcG9zc2libGU6IDEwPC9ESVY+DQo8RElW
IGNsYXNzPSJxdWVzdGlvbiI+DQo8RElWPuS4i+mdoueahOWTquS4gOS4que7k+aehOaYr+aPj+i/
sFZGU+eahOS4gOS4quebruW9lemhuT88L0RJVj4NCjxESVYgY2xhc3M9InRvcHBhZCI+DQo8VUwg
Y2xhc3M9Im5vbWFyayI+DQogIDxMST48SU5QVVQgbmFtZT0icW4yMCIgdmFsdWU9IjAiIHR5cGU9
InJhZGlvIj4gc3RydWN0IGlub2RlPC9MST4NCiAgPExJPjxJTlBVVCBuYW1lPSJxbjIwIiB2YWx1
ZT0iMSIgdHlwZT0icmFkaW8iPiBzdHJ1Y3QgZmlsZTwvTEk+DQogIDxMST48SU5QVVQgbmFtZT0i
cW4yMCIgdmFsdWU9IjIiIENIRUNLRUQ9IiIgdHlwZT0icmFkaW8iPiBzdHJ1Y3QgZGVudHJ5PC9M
ST4NCiAgPExJPjxJTlBVVCBuYW1lPSJxbjIwIiB2YWx1ZT0iMyIgdHlwZT0icmFkaW8iPiBzdHJ1
Y3QgZGlyX2VudHJ5PC9MST48L1VMPjwvRElWPg0KPERJVj4NCjxQIGNsYXNzPSJ0aXBzIj5Cb3gg
MTogU2VsZWN0IHRoZSBiZXN0IGFuc3dlcjwvUD48L0RJVj48L0RJVj4NCjxIUj4NCg0KPERJVj4j
MjIgUG9pbnRzIHBvc3NpYmxlOiAxMDwvRElWPg0KPERJViBjbGFzcz0icXVlc3Rpb24iPg0KPERJ
Vj7lvZPmn5DkuKrmlofku7bmiafooYznrKzkuIDmrKHmiZPlvIDmk43kvZzml7bvvIzor7vlhaXl
hoXlrZjnmoTmmK/lk6rkuIDpobnnmoTvvJ88L0RJVj4NCjxESVYgY2xhc3M9InRvcHBhZCI+DQo8
VUwgY2xhc3M9Im5vbWFyayI+DQogIDxMST48SU5QVVQgbmFtZT0icW4yMSIgdmFsdWU9IjAiIHR5
cGU9InJhZGlvIj4g5byV5a+86K6w5b2VPC9MST4NCiAgPExJPjxJTlBVVCBuYW1lPSJxbjIxIiB2
YWx1ZT0iMSIgdHlwZT0icmFkaW8iPiDotoXnuqflnZfvvIhzdXBlcmJsb2Nr77yJPC9MST4NCiAg
PExJPjxJTlBVVCBuYW1lPSJxbjIxIiB2YWx1ZT0iMiIgQ0hFQ0tFRD0iIiB0eXBlPSJyYWRpbyI+
IOaWh+S7tueahGlub2RlIDwvTEk+DQogIDxMST48SU5QVVQgbmFtZT0icW4yMSIgdmFsdWU9IjMi
IHR5cGU9InJhZGlvIj4g5paH5Lu25pWw5o2uPC9MST48L1VMPjwvRElWPg0KPERJVj4NCjxQIGNs
YXNzPSJ0aXBzIj5Cb3ggMTogU2VsZWN0IHRoZSBiZXN0IGFuc3dlcjwvUD48L0RJVj48L0RJVj4N
CjxIUj4NCg0KPERJVj4jMjMgUG9pbnRzIHBvc3NpYmxlOiAxMDwvRElWPg0KPERJViBjbGFzcz0i
cXVlc3Rpb24iPg0KPERJVj7lhbPkuo5pbm9kZeWSjOi2hee6p+Wdl++8jOS4i+WIl+iuuui/sOS4
jeato+ehrueahOaYr19fX19fX18g44CCPC9ESVY+DQo8RElWIGNsYXNzPSJ0b3BwYWQiPg0KPFVM
IGNsYXNzPSJub21hcmsiPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMjIiIHZhbHVlPSIwIiB0eXBl
PSJyYWRpbyI+IGlub2Rl6IqC54K55piv5LiA5Liq6ZW/5bqm5Zu65a6a55qE6KGoPC9MST4NCiAg
PExJPjxJTlBVVCBuYW1lPSJxbjIyIiB2YWx1ZT0iMSIgQ0hFQ0tFRD0iIiB0eXBlPSJyYWRpbyI+
IA0KICDotoXnuqflnZflnKjkuIDkuKrmlofku7bns7vnu5/nmoTlj6rlrZjlgqjlnKjkuIDkuKrl
nLDmlrk8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMjIiIHZhbHVlPSIyIiB0eXBlPSJyYWRp
byI+IGlub2Rl5YyF5ZCr5LqG5o+P6L+w5LiA5Liq5paH5Lu25omA5b+F6ZyA55qE5YWo6YOo5L+h
5oGvPC9MST4NCiAgPExJPjxJTlBVVCBuYW1lPSJxbjIyIiB2YWx1ZT0iMyIgdHlwZT0icmFkaW8i
PiANCui2hee6p+Wdl+iusOW9leS6hmlub2Rl5ZKM56m66Zey5Z2X6KGo5L+h5oGv5Zyo56OB55uY
5Lit5a2Y5pS+55qE5L2N572uPC9MST48L1VMPjwvRElWPg0KPERJVj4NCjxQIGNsYXNzPSJ0aXBz
Ij5Cb3ggMTogU2VsZWN0IHRoZSBiZXN0IGFuc3dlcjwvUD48L0RJVj48L0RJVj4NCjxIUj4NCg0K
PERJVj4jMjQgUG9pbnRzIHBvc3NpYmxlOiAxMDwvRElWPg0KPERJViBjbGFzcz0icXVlc3Rpb24i
Pg0KPERJVj5MaW51eOezu+e7n+eahHNoZWxs5ZG95Luk77yaZGQgaWY9ZjEgb2Y9ZjLjgILlhbbk
uK1pZj1mMeihqOekuj88L0RJVj4NCjxESVYgY2xhc3M9InRvcHBhZCI+DQo8VUwgY2xhc3M9Im5v
bWFyayI+DQogIDxMST48SU5QVVQgbmFtZT0icW4yMyIgdmFsdWU9IjAiIENIRUNLRUQ9IiIgdHlw
ZT0icmFkaW8iPiDku6VmMeS9nOS4uua6kOaWh+S7tu+8jOS7o+abv+agh+WHhui+k+WFpTwvTEk+
DQogIDxMST48SU5QVVQgbmFtZT0icW4yMyIgdmFsdWU9IjEiIHR5cGU9InJhZGlvIj4g5LulZjHk
vZzkuLrnm67moIfmlofku7bvvIzku6Pmm7/moIflh4bovpPlh7o8L0xJPg0KICA8TEk+PElOUFVU
IG5hbWU9InFuMjMiIHZhbHVlPSIyIiB0eXBlPSJyYWRpbyI+IOW9k+adoeS7tua7oei2s2Yx55qE
5pe25YCZ77yM5omn6KGM55yf5q2j55qE5ou36LSdPC9MST4NCiAgPExJPjxJTlBVVCBuYW1lPSJx
bjIzIiB2YWx1ZT0iMyIgdHlwZT0icmFkaW8iPiDmi7fotJ3nmoTov4fnqIvkuK3vvIzkuI3ovazl
jJbmlofku7Y8L0xJPjwvVUw+PC9ESVY+DQo8RElWPg0KPFAgY2xhc3M9InRpcHMiPkJveCAxOiBT
ZWxlY3QgdGhlIGJlc3QgYW5zd2VyPC9QPjwvRElWPjwvRElWPg0KPEhSPg0KDQo8RElWPiMyNSBQ
b2ludHMgcG9zc2libGU6IDEwPC9ESVY+DQo8RElWIGNsYXNzPSJxdWVzdGlvbiI+DQo8RElWPuez
u+e7n+iwg+eUqHJlYWTnlLHlk6rkuIDkuKrlhoXmoLjlh73mlbDlrp7njrDnmoTvvJ88L0RJVj4N
CjxESVYgY2xhc3M9InRvcHBhZCI+DQo8VUwgY2xhc3M9Im5vbWFyayI+DQogIDxMST48SU5QVVQg
bmFtZT0icW4yNCIgdmFsdWU9IjAiIHR5cGU9InJhZGlvIj4gc3lzdGVtX3JlYWQ8L0xJPg0KICA8
TEk+PElOUFVUIG5hbWU9InFuMjQiIHZhbHVlPSIxIiB0eXBlPSJyYWRpbyI+IHJlYWQ8L0xJPg0K
ICA8TEk+PElOUFVUIG5hbWU9InFuMjQiIHZhbHVlPSIyIiBDSEVDS0VEPSIiIHR5cGU9InJhZGlv
Ij4gc3lzX3JlYWQ8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMjQiIHZhbHVlPSIzIiB0eXBl
PSJyYWRpbyI+IGZyZWFkPC9MST48L1VMPjwvRElWPg0KPERJVj4NCjxQIGNsYXNzPSJ0aXBzIj5C
b3ggMTogU2VsZWN0IHRoZSBiZXN0IGFuc3dlcjwvUD48L0RJVj48L0RJVj4NCjxIUj4NCg0KPERJ
Vj4jMjYgUG9pbnRzIHBvc3NpYmxlOiAxMDwvRElWPg0KPERJViBjbGFzcz0icXVlc3Rpb24iPg0K
PERJVj7lnKhMaW51eOezu+e7n+S4re+8jOWcqOe8luivkeWGheaguOaIkOWKn+WQju+8jOWuieij
heWGheaguOaWh+S7tueahOWRveS7pOS4uiBfX19f44CCPC9ESVY+DQo8RElWIGNsYXNzPSJ0b3Bw
YWQiPg0KPFVMIGNsYXNzPSJub21hcmsiPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMjUiIHZhbHVl
PSIwIiB0eXBlPSJyYWRpbyI+IGluc3RhbGw8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMjUi
IHZhbHVlPSIxIiB0eXBlPSJyYWRpbyI+IG1ha2U8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFu
MjUiIHZhbHVlPSIyIiB0eXBlPSJyYWRpbyI+IC4vY29uZmlndXJlPC9MST4NCiAgPExJPjxJTlBV
VCBuYW1lPSJxbjI1IiB2YWx1ZT0iMyIgQ0hFQ0tFRD0iIiB0eXBlPSJyYWRpbyI+IG1ha2UgaW5z
dGFsbDwvTEk+PC9VTD4NCjwvRElWPg0KPERJVj4NCjxQIGNsYXNzPSJ0aXBzIj5Cb3ggMTogU2Vs
ZWN0IHRoZSBiZXN0IGFuc3dlcjwvUD48L0RJVj48L0RJVj4NCjxIUj4NCg0KPERJVj4jMjcgUG9p
bnRzIHBvc3NpYmxlOiAxMDwvRElWPg0KPERJViBjbGFzcz0icXVlc3Rpb24iPg0KPERJVj5MaW51
eCAyLjblhoXmoLjvvIzomZrmi5/lrZjlgqjnrqHnkIbmlrnms5XkuLvopoHph4fnlKhfX19fX19f
IOOAgjwvRElWPg0KPERJViBjbGFzcz0idG9wcGFkIj4NCjxVTCBjbGFzcz0ibm9tYXJrIj4NCiAg
PExJPjxJTlBVVCBuYW1lPSJxbjI2IiB2YWx1ZT0iMCIgdHlwZT0icmFkaW8iPiDlr7nmjaLmioDm
nK88L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMjYiIHZhbHVlPSIxIiBDSEVDS0VEPSIiIHR5
cGU9InJhZGlvIj4g6K+35rGC6aG15byP5a2Y5YKo566h55CGPC9MST4NCiAgPExJPjxJTlBVVCBu
YW1lPSJxbjI2IiB2YWx1ZT0iMiIgdHlwZT0icmFkaW8iPiDor7fmsYLmrrXpobXlvI/lrZjlgqjn
rqHnkIY8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMjYiIHZhbHVlPSIzIiB0eXBlPSJyYWRp
byI+IOivt+axguauteW8j+WtmOWCqOeuoeeQhjwvTEk+PC9VTD48L0RJVj4NCjxESVY+DQo8UCBj
bGFzcz0idGlwcyI+Qm94IDE6IFNlbGVjdCB0aGUgYmVzdCBhbnN3ZXI8L1A+PC9ESVY+PC9ESVY+
DQo8SFI+DQoNCjxESVY+IzI4IFBvaW50cyBwb3NzaWJsZTogMTA8L0RJVj4NCjxESVYgY2xhc3M9
InF1ZXN0aW9uIj4NCjxESVY+5ZyoTGludXjnmoTomZrmi5/lrZjlgqjnrqHnkIbkuK3vvIzpobXn
m67lvZXooajlnLDlnYDlrZjmlL7lnKjlk6rkuKrlr4TlrZjlmajkuK0/PC9ESVY+DQo8RElWIGNs
YXNzPSJ0b3BwYWQiPg0KPFVMIGNsYXNzPSJub21hcmsiPg0KICA8TEk+PElOUFVUIG5hbWU9InFu
MjciIHZhbHVlPSIwIiB0eXBlPSJyYWRpbyI+IENSNDwvTEk+DQogIDxMST48SU5QVVQgbmFtZT0i
cW4yNyIgdmFsdWU9IjEiIENIRUNLRUQ9IiIgdHlwZT0icmFkaW8iPiBDUjM8L0xJPg0KICA8TEk+
PElOUFVUIG5hbWU9InFuMjciIHZhbHVlPSIyIiB0eXBlPSJyYWRpbyI+IENSMjwvTEk+DQogIDxM
ST48SU5QVVQgbmFtZT0icW4yNyIgdmFsdWU9IjMiIHR5cGU9InJhZGlvIj4gQ1IxPC9MST48L1VM
PjwvRElWPg0KPERJVj4NCjxQIGNsYXNzPSJ0aXBzIj5Cb3ggMTogU2VsZWN0IHRoZSBiZXN0IGFu
c3dlcjwvUD48L0RJVj48L0RJVj4NCjxIUj4NCg0KPERJVj4jMjkgUG9pbnRzIHBvc3NpYmxlOiAx
MDwvRElWPg0KPERJViBjbGFzcz0icXVlc3Rpb24iPg0KPERJVj5MaW51eOWGheaguOWumuS5ieS6
huW+iOWkmuWuj++8jOWFtuS4rWN1cnJlbnTlro/lnKjlhoXmoLjmupDku6PnoIHkuK3nu4/luLjl
j6/ku6XnnIvliLDvvIxjdXJyZW506KGo56S6X19fX19f44CCPC9ESVY+DQo8RElWIGNsYXNzPSJ0
b3BwYWQiPg0KPFVMIGNsYXNzPSJub21hcmsiPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMjgiIHZh
bHVlPSIwIiBDSEVDS0VEPSIiIHR5cGU9InJhZGlvIj4gDQogIOW9k+WJjei/m+eoi+eahHRhc2tf
c3RydWN055qE5oyH6ZKIPC9MST4NCiAgPExJPjxJTlBVVCBuYW1lPSJxbjI4IiB2YWx1ZT0iMSIg
dHlwZT0icmFkaW8iPiDlhoXmoLjloIbmoIjnmoTmjIfpkog8L0xJPg0KICA8TEk+PElOUFVUIG5h
bWU9InFuMjgiIHZhbHVlPSIyIiB0eXBlPSJyYWRpbyI+IOW9k+WJjeato+WcqOi/kOihjOeahOi/
m+eoizwvTEk+DQogIDxMST48SU5QVVQgbmFtZT0icW4yOCIgdmFsdWU9IjMiIHR5cGU9InJhZGlv
Ij4g5b2T5YmN5q2j5Zyo5omT5byA5paH5Lu255qE5oyH6ZKIPC9MST48L1VMPjwvRElWPg0KPERJ
Vj4NCjxQIGNsYXNzPSJ0aXBzIj5Cb3ggMTogU2VsZWN0IHRoZSBiZXN0IGFuc3dlcjwvUD48L0RJ
Vj48L0RJVj4NCjxIUj4NCg0KPERJVj4jMzAgUG9pbnRzIHBvc3NpYmxlOiAxMDwvRElWPg0KPERJ
ViBjbGFzcz0icXVlc3Rpb24iPg0KPERJVj5MaW51eCBleHQy5paH5Lu257O757uf5a+556OB55uY
56m66Zey56m66Ze055qE566h55CG6YeH55SoX19fX+OAgjwvRElWPg0KPERJViBjbGFzcz0idG9w
cGFkIj4NCjxVTCBjbGFzcz0ibm9tYXJrIj4NCiAgPExJPjxJTlBVVCBuYW1lPSJxbjI5IiB2YWx1
ZT0iMCIgdHlwZT0icmFkaW8iPiBGQVTooag8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMjki
IHZhbHVlPSIxIiB0eXBlPSJyYWRpbyI+IOepuumXsuWdl+aIkOe7hOmTvuaOpTwvTEk+DQogIDxM
ST48SU5QVVQgbmFtZT0icW4yOSIgdmFsdWU9IjIiIENIRUNLRUQ9IiIgdHlwZT0icmFkaW8iPiDn
qbrpl7LlnZfpk77mjqXms5U8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMjkiIHZhbHVlPSIz
IiB0eXBlPSJyYWRpbyI+IOS9jeekuuWbvuazlTwvTEk+PC9VTD48L0RJVj4NCjxESVY+DQo8UCBj
bGFzcz0idGlwcyI+Qm94IDE6IFNlbGVjdCB0aGUgYmVzdCBhbnN3ZXI8L1A+PC9ESVY+PC9ESVY+
DQo8SFI+DQoNCjxESVY+IzMxIFBvaW50cyBwb3NzaWJsZTogMTA8L0RJVj4NCjxESVYgY2xhc3M9
InF1ZXN0aW9uIj4NCjxESVY+TGludXjkvb/nlKhzbGFi5YiG6YWN5Zmo55qE5Li76KaB55uu55qE
77yfPC9ESVY+DQo8RElWIGNsYXNzPSJ0b3BwYWQiPg0KPFVMIGNsYXNzPSJub21hcmsiPg0KICA8
TEk+PElOUFVUIG5hbWU9InFuMzAiIHZhbHVlPSIwIiBDSEVDS0VEPSIiIHR5cGU9InJhZGlvIj4g
DQogIOS4uueUs+ivt+S4jei2s+S4gOmhteW4p+eahOWwj+Wvueixoe+8iOe8k+WGsu+8ieeUs+iv
t+S4jumHiuaUvueJqeeQhuWGheWtmO+8jOS7peWHj+WwkeeijueJh+OAgjwvTEk+DQogIDxMST48
SU5QVVQgbmFtZT0icW4zMCIgdmFsdWU9IjEiIHR5cGU9InJhZGlvIj4g5Li65LqG5pu05Yqg5b+r
6YCf55Sz6K+35LiO6YeK5pS+54mp55CG5YaF5a2Y44CCPC9MST4NCiAgPExJPjxJTlBVVCBuYW1l
PSJxbjMwIiB2YWx1ZT0iMiIgdHlwZT0icmFkaW8iPiDkuLrnlLPor7flpJrkuKrov57nu63nmoTn
iannkIbpobXluKfogIzorr7nva7jgII8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMzAiIHZh
bHVlPSIzIiB0eXBlPSJyYWRpbyI+IA0KICDnlKjkvJnkvLTvvIhidWRkee+8ieezu+e7n+eUs+iv
t+WSjOmHiuaUvuWGheWtmOmcgOimgeiKsei0ueW+iOWkmuaXtumXtOOAgjwvTEk+PC9VTD48L0RJ
Vj4NCjxESVY+DQo8UCBjbGFzcz0idGlwcyI+Qm94IDE6IFNlbGVjdCB0aGUgYmVzdCBhbnN3ZXI8
L1A+PC9ESVY+PC9ESVY+DQo8SFI+DQoNCjxESVY+IzMyIFBvaW50cyBwb3NzaWJsZTogMTA8L0RJ
Vj4NCjxESVYgY2xhc3M9InF1ZXN0aW9uIj4NCjxESVY+TGludXjnmoTpobXnva7mjaLnrZbnlaXk
vb/nlKhfX19fX+OAgjwvRElWPg0KPERJViBjbGFzcz0idG9wcGFkIj4NCjxVTCBjbGFzcz0ibm9t
YXJrIj4NCiAgPExJPjxJTlBVVCBuYW1lPSJxbjMxIiB2YWx1ZT0iMCIgQ0hFQ0tFRD0iIiB0eXBl
PSJyYWRpbyI+IExSVQk8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMzEiIHZhbHVlPSIxIiB0
eXBlPSJyYWRpbyI+IEZJRk8gPC9MST4NCiAgPExJPjxJTlBVVCBuYW1lPSJxbjMxIiB2YWx1ZT0i
MiIgdHlwZT0icmFkaW8iPiBOVVIgIDwvTEk+DQogIDxMST48SU5QVVQgbmFtZT0icW4zMSIgdmFs
dWU9IjMiIHR5cGU9InJhZGlvIj4gY2xvY2s8L0xJPjwvVUw+PC9ESVY+DQo8RElWPg0KPFAgY2xh
c3M9InRpcHMiPkJveCAxOiBTZWxlY3QgdGhlIGJlc3QgYW5zd2VyPC9QPjwvRElWPjwvRElWPg0K
PEhSPg0KDQo8RElWPiMzMyBQb2ludHMgcG9zc2libGU6IDEwPC9ESVY+DQo8RElWIGNsYXNzPSJx
dWVzdGlvbiI+DQo8RElWPuWcqOa3u+WKoOS4gOS4quaWh+S7tuezu+e7n+WunumqjOS4re+8jOS9
v+eUqOWmguS4i+WRveS7pOi/m+ihjOa1i+ivle+8iOW8gOWni+eahOaVsOWtl+S4uuihjOWPt++8
ie+8jOWBh+iuvuS9v+eUqG1vdW505ZG95Luk5pyJ6Laz5aSf55qE5p2D6ZmQ44CCDQo8UD48L1A+
MSkJICBkZCBpZj0vZGV2L3plcm8gb2Y9bXlmcyBicz0yTSBjb3VudD0xDQo8UD48L1A+MikJICAv
c2Jpbi9ta2ZzLmV4dDIgbXlmcw0KPFA+PC9QPjMpCSAgLi9jaGFuZ2VNTiBteWZzDQo8UD48L1A+
NCkJICBtb3VudCDigJN0IG15ZXh0MiDigJNvIGxvb3AgLi9mcy5uZXcgL21udA0KPFA+PC9QPjUp
CSAgbW91bnQNCjxQPjwvUD42KQkgIHVtb3VudCAvbW50DQo8UD48L1A+NykJICBtb3VudCDigJN0
IGV4dDIg4oCTbyBsb29wIC4vZnMubmV3IC9tbnQNCjxQPjwvUD4NCjxQPjwvUD7nrKwxKSDooYzl
kb3ku6TnmoTlip/og73mmK/vvJ88L0RJVj4NCjxESVYgY2xhc3M9InRvcHBhZCI+DQo8VUwgY2xh
c3M9Im5vbWFyayI+DQogIDxMST48SU5QVVQgbmFtZT0icW4zMiIgdmFsdWU9IjAiIHR5cGU9InJh
ZGlvIj4g5Yib5bu65LiA5Liq5paw55qE5paH5Lu2bXlmczwvTEk+DQogIDxMST48SU5QVVQgbmFt
ZT0icW4zMiIgdmFsdWU9IjEiIHR5cGU9InJhZGlvIj4gDQrmiorlpKflsI/kuLoyTeWtl+iKguea
hOaWh+S7ti9kZXYvemVyb+WkjeWItuWIsG15ZnM8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFu
MzIiIHZhbHVlPSIyIiB0eXBlPSJyYWRpbyI+IA0KICDliJvlu7rlpKflsI/kuLoxTeWtl+iKguea
hO+8jOWQjeWtl+S4um15ZnPnmoTvvIzlhoXlrrnlhajkuLow55qE5paH5Lu2PC9MST4NCiAgPExJ
PjxJTlBVVCBuYW1lPSJxbjMyIiB2YWx1ZT0iMyIgQ0hFQ0tFRD0iIiB0eXBlPSJyYWRpbyI+IA0K
ICDliJvlu7rlpKflsI/kuLoyTeWtl+iKgueahO+8jOWQjeWtl+S4um15ZnPnmoTvvIzlhoXlrrnl
hajkuLow55qE5paH5Lu2PC9MST48L1VMPjwvRElWPg0KPERJVj4NCjxQIGNsYXNzPSJ0aXBzIj5C
b3ggMTogU2VsZWN0IHRoZSBiZXN0IGFuc3dlcjwvUD48L0RJVj48L0RJVj4NCjxIUj4NCg0KPERJ
Vj4jMzQgUG9pbnRzIHBvc3NpYmxlOiAxMDwvRElWPg0KPERJViBjbGFzcz0icXVlc3Rpb24iPg0K
PERJVj7lnKjmt7vliqDkuIDkuKrmlofku7bns7vnu5/lrp7pqozkuK3vvIzkvb/nlKjlpoLkuIvl
kb3ku6Tov5vooYzmtYvor5XvvIjlvIDlp4vnmoTmlbDlrZfkuLrooYzlj7fvvInvvIzlgYforr7k
vb/nlKhtb3VudOWRveS7pOaciei2s+Wkn+eahOadg+mZkOOAgg0KPFA+PC9QPjEpCSAgZGQgaWY9
L2Rldi96ZXJvIG9mPW15ZnMgYnM9Mk0gY291bnQ9MQ0KPFA+PC9QPjIpCSAgL3NiaW4vbWtmcy5l
eHQyIG15ZnMNCjxQPjwvUD4zKQkgIC4vY2hhbmdlTU4gbXlmcw0KPFA+PC9QPjQpCSAgbW91bnQg
4oCTdCBteWV4dDIg4oCTbyBsb29wIC4vZnMubmV3IC9tbnQNCjxQPjwvUD41KQkgIG1vdW50DQo8
UD48L1A+NikJICB1bW91bnQgL21udA0KPFA+PC9QPjcpCSAgbW91bnQg4oCTdCBleHQyIOKAk28g
bG9vcCAuL2ZzLm5ldyAvbW50DQo8UD48L1A+DQo8UD48L1A+56ysMikg6KGM5ZG95Luk55qE5Yqf
6IO95piv77yfPC9ESVY+DQo8RElWIGNsYXNzPSJ0b3BwYWQiPg0KPFVMIGNsYXNzPSJub21hcmsi
Pg0KICA8TEk+PElOUFVUIG5hbWU9InFuMzMiIHZhbHVlPSIwIiB0eXBlPSJyYWRpbyI+IOWIm+W7
uuS4gOS4quaWsOeahOaWh+S7tm15ZnM8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMzMiIHZh
bHVlPSIxIiBDSEVDS0VEPSIiIHR5cGU9InJhZGlvIj4gDQogIOaKim15ZnPmoLzlvI/ljJbmiJBl
eHQy5paH5Lu257O757ufPC9MST4NCiAgPExJPjxJTlBVVCBuYW1lPSJxbjMzIiB2YWx1ZT0iMiIg
dHlwZT0icmFkaW8iPiDmiopteWZz5qC85byP5YyW5oiQbXlleHQy5paH5Lu257O757ufPC9MST4N
CiAgPExJPjxJTlBVVCBuYW1lPSJxbjMzIiB2YWx1ZT0iMyIgdHlwZT0icmFkaW8iPiDlnKjnoazn
m5jkuIrlu7rnq4vkuIDkuKrljbflj7fkuLpteWZz55qEZXh0MuWIhuWMujwvTEk+PC9VTD4NCjwv
RElWPg0KPERJVj4NCjxQIGNsYXNzPSJ0aXBzIj5Cb3ggMTogU2VsZWN0IHRoZSBiZXN0IGFuc3dl
cjwvUD48L0RJVj48L0RJVj4NCjxIUj4NCg0KPERJVj4jMzUgUG9pbnRzIHBvc3NpYmxlOiAxMDwv
RElWPg0KPERJViBjbGFzcz0icXVlc3Rpb24iPg0KPERJVj7lnKjmt7vliqDkuIDkuKrmlofku7bn
s7vnu5/lrp7pqozkuK3vvIzkvb/nlKjlpoLkuIvlkb3ku6Tov5vooYzmtYvor5XvvIjlvIDlp4vn
moTmlbDlrZfkuLrooYzlj7fvvInvvIzlgYforr7kvb/nlKhtb3VudOWRveS7pOaciei2s+Wkn+ea
hOadg+mZkOOAgg0KPFA+PC9QPjEpCSAgZGQgaWY9L2Rldi96ZXJvIG9mPW15ZnMgYnM9Mk0gY291
bnQ9MQ0KPFA+PC9QPjIpCSAgL3NiaW4vbWtmcy5leHQyIG15ZnMNCjxQPjwvUD4zKQkgIC4vY2hh
bmdlTU4gbXlmcw0KPFA+PC9QPjQpCSAgbW91bnQg4oCTdCBteWV4dDIg4oCTbyBsb29wIC4vZnMu
bmV3IC9tbnQNCjxQPjwvUD41KQkgIG1vdW50DQo8UD48L1A+NikJICB1bW91bnQgL21udA0KPFA+
PC9QPjcpCSAgbW91bnQg4oCTdCBleHQyIOKAk28gbG9vcCAuL2ZzLm5ldyAvbW50DQo8UD48L1A+
DQo8UD48L1A+5ZOq5LiA6KGM5ZG95Luk5Lya5Lqn55Sf6ZSZ6K+v5L+h5oGvPzwvRElWPg0KPERJ
ViBjbGFzcz0idG9wcGFkIj4NCjxVTCBjbGFzcz0ibm9tYXJrIj4NCiAgPExJPjxJTlBVVCBuYW1l
PSJxbjM0IiB2YWx1ZT0iMCIgdHlwZT0icmFkaW8iPiDnrKwgNCkg6KGMPC9MST4NCiAgPExJPjxJ
TlBVVCBuYW1lPSJxbjM0IiB2YWx1ZT0iMSIgdHlwZT0icmFkaW8iPiDnrKwgNSkg6KGMPC9MST4N
CiAgPExJPjxJTlBVVCBuYW1lPSJxbjM0IiB2YWx1ZT0iMiIgdHlwZT0icmFkaW8iPiDnrKwgNino
oYw8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMzQiIHZhbHVlPSIzIiBDSEVDS0VEPSIiIHR5
cGU9InJhZGlvIj4g56ysIDcp6KGMPC9MST48L1VMPjwvRElWPg0KPERJVj4NCjxQIGNsYXNzPSJ0
aXBzIj5Cb3ggMTogU2VsZWN0IHRoZSBiZXN0IGFuc3dlcjwvUD48L0RJVj48L0RJVj4NCjxIUj4N
Cg0KPERJVj4jMzYgUG9pbnRzIHBvc3NpYmxlOiAxMDwvRElWPg0KPERJViBjbGFzcz0icXVlc3Rp
b24iPg0KPERJVj7lnKhleHQy5paH5Lu257O757uf5Lit77yM5LiL6Z2i55qE6K+05rOV77yMX19f
X19f5piv6ZSZ6K+v55qE44CCPC9ESVY+DQo8RElWIGNsYXNzPSJ0b3BwYWQiPg0KPFVMIGNsYXNz
PSJub21hcmsiPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMzUiIHZhbHVlPSIwIiB0eXBlPSJyYWRp
byI+IOavj+S4quaWh+S7tumDveacieS4gOS4qmlub2Rl6IqC54K5PC9MST4NCiAgPExJPjxJTlBV
VCBuYW1lPSJxbjM1IiB2YWx1ZT0iMSIgdHlwZT0icmFkaW8iPiDnm67lvZXmlofku7bmnIlpbm9k
ZeiKgueCuTwvTEk+DQogIDxMST48SU5QVVQgbmFtZT0icW4zNSIgdmFsdWU9IjIiIHR5cGU9InJh
ZGlvIj4g56OB55uY5pyJaW5vZGXoioLngrk8L0xJPg0KICA8TEk+PElOUFVUIG5hbWU9InFuMzUi
IHZhbHVlPSIzIiBDSEVDS0VEPSIiIHR5cGU9InJhZGlvIj4gDQrmiZPljbDmnLrorr7lpIfmlofk
u7bmsqHmnIlpbm9kZeiKgueCuTwvTEk+PC9VTD48L0RJVj4NCjxESVY+DQo8UCBjbGFzcz0idGlw
cyI+Qm94IDE6IFNlbGVjdCB0aGUgYmVzdCBhbnN3ZXI8L1A+PC9ESVY+PC9ESVY+DQo8SFI+DQo8
L0RJVj48L0JPRFk+PC9IVE1MPg0K

------=_NextPart_000_0000_01CCCC6C.E76A4F20
Content-Type: text/css;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable
Content-Location: http://os.zju.edu.cn/exercise/assessment/mathtest.css

a:link {
	text-decoration: none;
}
a:visited {
	text-decoration: none;
}
a:hover {
	text-decoration: underline;
}
div.main {
	padding: 0px;
}
div.toppad {
	padding-top: 5px;
}
div.breadcrumb {
	padding: 5px; border: 1px solid rgb(0, 0, 0); margin-bottom: 10px; =
background-color: rgb(221, 221, 255);
}
div.question {
	padding: 10px; border: 1px solid rgb(0, 0, 255); width: 99%; =
margin-top: 0px; margin-bottom: 5px; background-color: rgb(221, 221, =
255);
}
div.todoquestion {
	padding: 10px; border: 1px solid rgb(153, 153, 102); width: 99%; =
margin-top: 0px; margin-bottom: 5px; background-color: rgb(255, 255, =
204);
}
div.review {
	padding: 5px; border: 1px solid rgb(0, 0, 255); width: 99%; margin-top: =
-4px; margin-bottom: 20px; background-color: rgb(238, 255, 238);
}
div.intro {
	padding: 5px; border: 1px solid rgb(0, 0, 255); margin-bottom: 5px;
}
div.choice {
	padding: 5px; text-align: center; float: left;
}
div.float {
	float: left;
}
div.match {
	padding: 5px 30px 5px 5px; float: left;
}
div.spacer {
	padding: 0px; height: 1px; clear: both;
}
div.navbar {
	background: rgb(238, 255, 238); padding: 10px; border: 1px solid rgb(0, =
0, 0); left: 10px; width: 120px; color: rgb(0, 0, 0); margin-top: 10px; =
position: absolute;
}
div.navbar h4 {
	margin-top: 0px;
}
div.navbar a {
	color: blue;
}
span.current {
	background-color: rgb(255, 255, 170);
}
span.done {
	text-decoration: line-through;
}
div.inset {
	padding: 0px; margin-top: 10px; margin-right: 10px; margin-left: 155px;
}
div.right {
	padding: 0px; text-align: right;
}
ul.qlist {
	margin: 0px; padding: 0px; list-style-type: none;
}
ul.qlist li {
	padding: 0px; margin-top: 0.2em; margin-left: 10px;
}
ul.nomark {
	list-style-type: none;
}
ul.nomark li {
	margin-top: 0.7em;
}
ol.lalpha {
	list-style-type: lower-alpha;
}
ol.lalpha li {
	margin-top: 0.7em;
}
p.centered {
	text-align: center;
}
table thead th {
	font-weight: bold;
}
table.stats {
	background: rgb(238, 238, 255); margin-left: 20px; border-collapse: =
collapse;
}
table.stats td {
	padding: 1px 10px; border: 1px solid rgb(0, 0, 0);
}
table.stats tbody td {
	text-align: right;
}
table td.left {
	text-align: left;
}
table.stats thead th {
	background: rgb(238, 255, 255); border-width: 1px 1px 3px; =
border-style: solid; border-color: rgb(0, 0, 0); padding: 1px 10px; =
text-align: center;
}
table.stats tbody th {
	background: rgb(238, 255, 255); border-width: 1px 3px 1px 1px; =
border-style: solid; border-color: rgb(0, 0, 0); padding: 1px 10px; =
text-align: center;
}
span.white {
	padding: 2px; background-color: white;
}
span.aural {
	display: none;
}
img.skipnav {
	border: 0px currentColor; left: 0px; top: 0px; position: absolute;
}
.hidden {
	display: none;
}
span.shown {
	display: inline;
}
table.scores td {
	padding-right: 20px;
}
.drawtools span {
	background: rgb(153, 255, 153); padding: 1px 3px; border: 2px outset =
rgb(153, 255, 153); cursor: default;
}
.drawtools span.sel {
	background: rgb(204, 255, 204); border: 2px inset rgb(153, 255, 153); =
cursor: default;
}
.drawtools span:active {
	background: rgb(204, 255, 204); border: 2px inset rgb(153, 255, 153); =
cursor: default;
}
.drawtools span:hover {
	background: rgb(204, 255, 204);
}
.drawcanvas {
	border: 1px solid rgb(0, 0, 0); margin-bottom: 5px;
}
table.longdiv {
	border: 0px currentColor; border-collapse: collapse;
}
table.longdiv td {
	padding: 3px;
}
td.barslefttop {
	border-top-color: rgb(0, 0, 0); border-left-color: rgb(0, 0, 0); =
border-top-width: 1px; border-left-width: 1px; border-top-style: solid; =
border-left-style: solid;
}
span.red {
	color: red;
}
span.withdrawn {
	color: red; text-decoration: line-through;
}

------=_NextPart_000_0000_01CCCC6C.E76A4F20
Content-Type: text/css;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable
Content-Location: http://os.zju.edu.cn/exercise/assessment/print.css

div.navbar {
	display: none;
}
div.breadcrumb {
	display: none;
}
div.intro {
	border: 0px currentColor; background-color: rgb(255, 255, 255);
}
div.review {
	border: 0px currentColor; background-color: rgb(255, 255, 255);
}
div.question {
	border: 0px currentColor; background-color: rgb(255, 255, 255);
}
div.inset {
	margin-left: 0px;
}
input.text {
	border-width: 0px 0px 1px; border-style: none none solid; border-color: =
currentColor currentColor rgb(0, 0, 0);
}
p.tips {
	display: none;
}
input.btn {
	display: none;
}
#bannerimg {
	display: none;
}

------=_NextPart_000_0000_01CCCC6C.E76A4F20
Content-Type: application/octet-stream
Content-Transfer-Encoding: quoted-printable
Content-Location: http://os.zju.edu.cn/exercise/javascript/ASCIIMathTeXImg.js

/*
ASCIIMathTeXImg.js
Based on ASCIIMathML, Version 1.4.7 Aug 30, 2005, (c) Peter Jipsen =
http://www.chapman.edu/~jipsen
Modified with TeX conversion for IMG rendering Sept 6, 2006 (c) David =
Lippman http://www.pierce.ctc.edu/dlippman
Licensed under GNU General Public License (at =
http://www.gnu.org/copyleft/gpl.html)=20
*/

var mathcolor =3D "";       // defaults to back, or specify any other =
color
var displaystyle =3D true;      // puts limits above and below large =
operators
var showasciiformulaonhover =3D true; // helps students learn ASCIIMath
var decimalsign =3D ".";        // change to "," if you like, beware of =
`(1,2)`!
var AMdelimiter1 =3D "`", AMescape1 =3D "\\\\`"; // can use other =
characters
var AMusedelimiter2 =3D false; 		//whether to use second delimiter below
var AMdelimiter2 =3D "$", AMescape2 =3D "\\\\\\$", AMdelimiter2regexp =
=3D "\\$";
var doubleblankmathdelimiter =3D false; // if true,  x+1  is equal to =
`x+1`
                                      // for IE this works only in <!--  =
 -->
var noMathRender =3D false;
// character lists for Mozilla/Netscape fonts
var AMcal =3D =
[0xEF35,0x212C,0xEF36,0xEF37,0x2130,0x2131,0xEF38,0x210B,0x2110,0xEF39,0x=
EF3A,0x2112,0x2133,0xEF3B,0xEF3C,0xEF3D,0xEF3E,0x211B,0xEF3F,0xEF40,0xEF4=
1,0xEF42,0xEF43,0xEF44,0xEF45,0xEF46];
var AMfrk =3D =
[0xEF5D,0xEF5E,0x212D,0xEF5F,0xEF60,0xEF61,0xEF62,0x210C,0x2111,0xEF63,0x=
EF64,0xEF65,0xEF66,0xEF67,0xEF68,0xEF69,0xEF6A,0x211C,0xEF6B,0xEF6C,0xEF6=
D,0xEF6E,0xEF6F,0xEF70,0xEF71,0x2128];
var AMbbb =3D =
[0xEF8C,0xEF8D,0x2102,0xEF8E,0xEF8F,0xEF90,0xEF91,0x210D,0xEF92,0xEF93,0x=
EF94,0xEF95,0xEF96,0x2115,0xEF97,0x2119,0x211A,0x211D,0xEF98,0xEF99,0xEF9=
A,0xEF9B,0xEF9C,0xEF9D,0xEF9E,0x2124];

var CONST =3D 0, UNARY =3D 1, BINARY =3D 2, INFIX =3D 3, LEFTBRACKET =3D =
4,=20
    RIGHTBRACKET =3D 5, SPACE =3D 6, UNDEROVER =3D 7, DEFINITION =3D 8,
    LEFTRIGHT =3D 9, TEXT =3D 10; // token types

var AMsqrt =3D {input:"sqrt", tag:"msqrt", output:"sqrt", tex:null, =
ttype:UNARY},
  AMroot  =3D {input:"root", tag:"mroot", output:"root", tex:null, =
ttype:BINARY},
  AMfrac  =3D {input:"frac", tag:"mfrac", output:"/",    tex:null, =
ttype:BINARY},
  AMdiv   =3D {input:"/",    tag:"mfrac", output:"/",    tex:null, =
ttype:INFIX},
  AMover  =3D {input:"stackrel", tag:"mover", output:"stackrel", =
tex:null, ttype:BINARY},
  AMsub   =3D {input:"_",    tag:"msub",  output:"_",    tex:null, =
ttype:INFIX},
  AMsup   =3D {input:"^",    tag:"msup",  output:"^",    tex:null, =
ttype:INFIX},
  AMtext  =3D {input:"text", tag:"mtext", output:"text", tex:null, =
ttype:TEXT},
  AMmbox  =3D {input:"mbox", tag:"mtext", output:"mbox", tex:null, =
ttype:TEXT},
  AMquote =3D {input:"\"",   tag:"mtext", output:"mbox", tex:null, =
ttype:TEXT};

var AMsymbols =3D [
//some greek symbols
{input:"alpha",  tag:"mi", output:"\u03B1", tex:null, ttype:CONST},
{input:"beta",   tag:"mi", output:"\u03B2", tex:null, ttype:CONST},
{input:"chi",    tag:"mi", output:"\u03C7", tex:null, ttype:CONST},
{input:"delta",  tag:"mi", output:"\u03B4", tex:null, ttype:CONST},
{input:"Delta",  tag:"mo", output:"\u0394", tex:null, ttype:CONST},
{input:"epsi",   tag:"mi", output:"\u03B5", tex:"epsilon", ttype:CONST},
{input:"varepsilon", tag:"mi", output:"\u025B", tex:null, ttype:CONST},
{input:"eta",    tag:"mi", output:"\u03B7", tex:null, ttype:CONST},
{input:"gamma",  tag:"mi", output:"\u03B3", tex:null, ttype:CONST},
{input:"Gamma",  tag:"mo", output:"\u0393", tex:null, ttype:CONST},
{input:"iota",   tag:"mi", output:"\u03B9", tex:null, ttype:CONST},
{input:"kappa",  tag:"mi", output:"\u03BA", tex:null, ttype:CONST},
{input:"lambda", tag:"mi", output:"\u03BB", tex:null, ttype:CONST},
{input:"Lambda", tag:"mo", output:"\u039B", tex:null, ttype:CONST},
{input:"mu",     tag:"mi", output:"\u03BC", tex:null, ttype:CONST},
{input:"nu",     tag:"mi", output:"\u03BD", tex:null, ttype:CONST},
{input:"omega",  tag:"mi", output:"\u03C9", tex:null, ttype:CONST},
{input:"Omega",  tag:"mo", output:"\u03A9", tex:null, ttype:CONST},
{input:"phi",    tag:"mi", output:"\u03C6", tex:null, ttype:CONST},
{input:"varphi", tag:"mi", output:"\u03D5", tex:null, ttype:CONST},
{input:"Phi",    tag:"mo", output:"\u03A6", tex:null, ttype:CONST},
{input:"pi",     tag:"mi", output:"\u03C0", tex:null, ttype:CONST},
{input:"Pi",     tag:"mo", output:"\u03A0", tex:null, ttype:CONST},
{input:"psi",    tag:"mi", output:"\u03C8", tex:null, ttype:CONST},
{input:"Psi",    tag:"mi", output:"\u03A8", tex:null, ttype:CONST},
{input:"rho",    tag:"mi", output:"\u03C1", tex:null, ttype:CONST},
{input:"sigma",  tag:"mi", output:"\u03C3", tex:null, ttype:CONST},
{input:"Sigma",  tag:"mo", output:"\u03A3", tex:null, ttype:CONST},
{input:"tau",    tag:"mi", output:"\u03C4", tex:null, ttype:CONST},
{input:"theta",  tag:"mi", output:"\u03B8", tex:null, ttype:CONST},
{input:"vartheta", tag:"mi", output:"\u03D1", tex:null, ttype:CONST},
{input:"Theta",  tag:"mo", output:"\u0398", tex:null, ttype:CONST},
{input:"upsilon", tag:"mi", output:"\u03C5", tex:null, ttype:CONST},
{input:"xi",     tag:"mi", output:"\u03BE", tex:null, ttype:CONST},
{input:"Xi",     tag:"mo", output:"\u039E", tex:null, ttype:CONST},
{input:"zeta",   tag:"mi", output:"\u03B6", tex:null, ttype:CONST},

//binary operation symbols
{input:"*",  tag:"mo", output:"\u22C5", tex:"cdot", ttype:CONST},
{input:"**", tag:"mo", output:"\u22C6", tex:"star", ttype:CONST},
{input:"//", tag:"mo", output:"/",      tex:null, ttype:CONST},
{input:"\\\\", tag:"mo", output:"\\",   tex:"backslash", ttype:CONST},
{input:"setminus", tag:"mo", output:"\\", tex:null, ttype:CONST},
{input:"xx", tag:"mo", output:"\u00D7", tex:"times", ttype:CONST},
{input:"-:", tag:"mo", output:"\u00F7", tex:"div", ttype:CONST},
{input:"divide",   tag:"mo", output:"-:", tex:null, ttype:DEFINITION},
{input:"@",  tag:"mo", output:"\u2218", tex:"circ", ttype:CONST},
{input:"o+", tag:"mo", output:"\u2295", tex:"oplus", ttype:CONST},
{input:"ox", tag:"mo", output:"\u2297", tex:"otimes", ttype:CONST},
{input:"o.", tag:"mo", output:"\u2299", tex:"odot", ttype:CONST},
{input:"sum", tag:"mo", output:"\u2211", tex:null, ttype:UNDEROVER},
{input:"prod", tag:"mo", output:"\u220F", tex:null, ttype:UNDEROVER},
{input:"^^",  tag:"mo", output:"\u2227", tex:"wedge", ttype:CONST},
{input:"^^^", tag:"mo", output:"\u22C0", tex:"bigwedge", =
ttype:UNDEROVER},
{input:"vv",  tag:"mo", output:"\u2228", tex:"vee", ttype:CONST},
{input:"vvv", tag:"mo", output:"\u22C1", tex:"bigvee", ttype:UNDEROVER},
{input:"nn",  tag:"mo", output:"\u2229", tex:"cap", ttype:CONST},
{input:"nnn", tag:"mo", output:"\u22C2", tex:"bigcap", ttype:UNDEROVER},
{input:"uu",  tag:"mo", output:"\u222A", tex:"cup", ttype:CONST},
{input:"uuu", tag:"mo", output:"\u22C3", tex:"bigcup", ttype:UNDEROVER},

//binary relation symbols
{input:"!=3D",  tag:"mo", output:"\u2260", tex:"ne", ttype:CONST},
{input:":=3D",  tag:"mo", output:":=3D",     tex:null, ttype:CONST},
{input:"lt",  tag:"mo", output:"<",      tex:null, ttype:CONST},
{input:"gt",  tag:"mo", output:">",      tex:null, ttype:CONST},
{input:"<=3D",  tag:"mo", output:"\u2264", tex:"le", ttype:CONST},
{input:"lt=3D", tag:"mo", output:"\u2264", tex:"leq", ttype:CONST},
{input:"gt=3D",  tag:"mo", output:"\u2265", tex:"geq", ttype:CONST},
{input:">=3D",  tag:"mo", output:"\u2265", tex:"ge", ttype:CONST},
{input:"geq", tag:"mo", output:"\u2265", tex:null, ttype:CONST},
{input:"-<",  tag:"mo", output:"\u227A", tex:"prec", ttype:CONST},
{input:"-lt", tag:"mo", output:"\u227A", tex:null, ttype:CONST},
{input:">-",  tag:"mo", output:"\u227B", tex:"succ", ttype:CONST},
{input:"-<=3D", tag:"mo", output:"\u2AAF", tex:"preceq", ttype:CONST},
{input:">-=3D", tag:"mo", output:"\u2AB0", tex:"succeq", ttype:CONST},
{input:"in",  tag:"mo", output:"\u2208", tex:null, ttype:CONST},
{input:"!in", tag:"mo", output:"\u2209", tex:"notin", ttype:CONST},
{input:"sub", tag:"mo", output:"\u2282", tex:"subset", ttype:CONST},
{input:"sup", tag:"mo", output:"\u2283", tex:"supset", ttype:CONST},
{input:"sube", tag:"mo", output:"\u2286", tex:"subseteq", ttype:CONST},
{input:"supe", tag:"mo", output:"\u2287", tex:"supseteq", ttype:CONST},
{input:"-=3D",  tag:"mo", output:"\u2261", tex:"equiv", ttype:CONST},
{input:"~=3D",  tag:"mo", output:"\u2245", tex:"stackrel{\\sim}{=3D}", =
ttype:CONST}, //back hack b/c mimetex doesn't support /cong
{input:"cong",   tag:"mo", output:"~=3D", tex:null, ttype:DEFINITION},
{input:"~~",  tag:"mo", output:"\u2248", tex:"approx", ttype:CONST},
{input:"prop", tag:"mo", output:"\u221D", tex:"propto", ttype:CONST},

//logical symbols
{input:"and", tag:"mtext", output:"and", tex:null, ttype:SPACE},
{input:"or",  tag:"mtext", output:"or",  tex:null, ttype:SPACE},
{input:"not", tag:"mo", output:"\u00AC", tex:"neg", ttype:CONST},
{input:"=3D>",  tag:"mo", output:"\u21D2", tex:"Rightarrow", =
ttype:CONST},
{input:"implies",   tag:"mo", output:"=3D>", tex:null, =
ttype:DEFINITION},
{input:"if",  tag:"mo", output:"if",     tex:null, ttype:SPACE},
{input:"<=3D>", tag:"mo", output:"\u21D4", tex:"Leftrightarrow", =
ttype:CONST},
{input:"iff",   tag:"mo", output:"<=3D>", tex:null, ttype:DEFINITION},
{input:"AA",  tag:"mo", output:"\u2200", tex:"forall", ttype:CONST},
{input:"EE",  tag:"mo", output:"\u2203", tex:"exists", ttype:CONST},
{input:"_|_", tag:"mo", output:"\u22A5", tex:"bot", ttype:CONST},
{input:"TT",  tag:"mo", output:"\u22A4", tex:"top", ttype:CONST},
{input:"|--",  tag:"mo", output:"\u22A2", tex:"vdash", ttype:CONST},
{input:"|=3D=3D",  tag:"mo", output:"\u22A8", tex:"models", =
ttype:CONST}, //mimetex doesn't support

//grouping brackets
{input:"(", tag:"mo", output:"(", tex:null, ttype:LEFTBRACKET},
{input:")", tag:"mo", output:")", tex:null, ttype:RIGHTBRACKET},
{input:"[", tag:"mo", output:"[", tex:null, ttype:LEFTBRACKET},
{input:"]", tag:"mo", output:"]", tex:null, ttype:RIGHTBRACKET},
{input:"{", tag:"mo", output:"{", tex:"lbrace", ttype:LEFTBRACKET},
{input:"}", tag:"mo", output:"}", tex:"rbrace", ttype:RIGHTBRACKET},
{input:"|", tag:"mo", output:"|", tex:null, ttype:LEFTRIGHT},
//{input:"||", tag:"mo", output:"||", tex:null, ttype:LEFTRIGHT},
{input:"(:", tag:"mo", output:"\u2329", tex:"langle", =
ttype:LEFTBRACKET},
{input:":)", tag:"mo", output:"\u232A", tex:"rangle", =
ttype:RIGHTBRACKET},
{input:"<<", tag:"mo", output:"\u2329", tex:null, ttype:LEFTBRACKET},
{input:">>", tag:"mo", output:"\u232A", tex:null, ttype:RIGHTBRACKET},
{input:"{:", tag:"mo", output:"{:", tex:null, ttype:LEFTBRACKET, =
invisible:true},
{input:":}", tag:"mo", output:":}", tex:null, ttype:RIGHTBRACKET, =
invisible:true},

//miscellaneous symbols
{input:"int",  tag:"mo", output:"\u222B", tex:null, ttype:CONST},
{input:"dx",   tag:"mi", output:"{:d x:}", tex:null, ttype:DEFINITION},
{input:"dy",   tag:"mi", output:"{:d y:}", tex:null, ttype:DEFINITION},
{input:"dz",   tag:"mi", output:"{:d z:}", tex:null, ttype:DEFINITION},
{input:"dt",   tag:"mi", output:"{:d t:}", tex:null, ttype:DEFINITION},
{input:"oint", tag:"mo", output:"\u222E", tex:null, ttype:CONST},
{input:"del",  tag:"mo", output:"\u2202", tex:"partial", ttype:CONST},
{input:"grad", tag:"mo", output:"\u2207", tex:"nabla", ttype:CONST},
{input:"+-",   tag:"mo", output:"\u00B1", tex:"pm", ttype:CONST},
{input:"O/",   tag:"mo", output:"\u2205", tex:"emptyset", ttype:CONST},
{input:"oo",   tag:"mo", output:"\u221E", tex:"infty", ttype:CONST},
{input:"aleph", tag:"mo", output:"\u2135", tex:null, ttype:CONST},
{input:"...",  tag:"mo", output:"...",    tex:"ldots", ttype:CONST},
{input:":.",  tag:"mo", output:"\u2234",  tex:"therefore", ttype:CONST},
{input:"/_",  tag:"mo", output:"\u2220",  tex:"angle", ttype:CONST},
{input:"\\ ",  tag:"mo", output:"\u00A0", tex:null, ttype:CONST, =
val:true},
{input:"quad", tag:"mo", output:"\u00A0\u00A0", tex:null, ttype:CONST},
{input:"qquad", tag:"mo", output:"\u00A0\u00A0\u00A0\u00A0", tex:null, =
ttype:CONST},
{input:"cdots", tag:"mo", output:"\u22EF", tex:null, ttype:CONST},
{input:"vdots", tag:"mo", output:"\u22EE", tex:null, ttype:CONST},
{input:"ddots", tag:"mo", output:"\u22F1", tex:null, ttype:CONST},
{input:"diamond", tag:"mo", output:"\u22C4", tex:null, ttype:CONST},
{input:"square", tag:"mo", output:"\u25A1", tex:"boxempty", =
ttype:CONST},
{input:"|__", tag:"mo", output:"\u230A",  tex:"lfloor", ttype:CONST},
{input:"__|", tag:"mo", output:"\u230B",  tex:"rfloor", ttype:CONST},
{input:"|~", tag:"mo", output:"\u2308",  tex:"lceil", ttype:CONST},
{input:"lceiling",   tag:"mo", output:"|~", tex:null, ttype:DEFINITION},
{input:"~|", tag:"mo", output:"\u2309",  tex:"rceil", ttype:CONST},
{input:"rceiling",   tag:"mo", output:"~|", tex:null, ttype:DEFINITION},
{input:"CC",  tag:"mo", output:"\u2102", tex:"mathbb{C}", ttype:CONST, =
notexcopy:true},
{input:"NN",  tag:"mo", output:"\u2115", tex:"mathbb{N}", ttype:CONST, =
notexcopy:true},
{input:"QQ",  tag:"mo", output:"\u211A", tex:"mathbb{Q}", ttype:CONST, =
notexcopy:true},
{input:"RR",  tag:"mo", output:"\u211D", tex:"mathbb{R}", ttype:CONST, =
notexcopy:true},
{input:"ZZ",  tag:"mo", output:"\u2124", tex:"mathbb{Z}", ttype:CONST, =
notexcopy:true},
{input:"f",   tag:"mi", output:"f",      tex:null, ttype:UNARY, =
func:true, val:true},
{input:"g",   tag:"mi", output:"g",      tex:null, ttype:UNARY, =
func:true, val:true},

//standard functions
{input:"lim",  tag:"mo", output:"lim", tex:null, ttype:UNDEROVER},
{input:"Lim",  tag:"mo", output:"Lim", tex:null, ttype:UNDEROVER},
{input:"sin",  tag:"mo", output:"sin", tex:null, ttype:UNARY, =
func:true},
{input:"cos",  tag:"mo", output:"cos", tex:null, ttype:UNARY, =
func:true},
{input:"tan",  tag:"mo", output:"tan", tex:null, ttype:UNARY, =
func:true},
{input:"arcsin",  tag:"mo", output:"arcsin", tex:null, ttype:UNARY, =
func:true},
{input:"arccos",  tag:"mo", output:"arccos", tex:null, ttype:UNARY, =
func:true},
{input:"arctan",  tag:"mo", output:"arctan", tex:null, ttype:UNARY, =
func:true},
{input:"sinh", tag:"mo", output:"sinh", tex:null, ttype:UNARY, =
func:true},
{input:"cosh", tag:"mo", output:"cosh", tex:null, ttype:UNARY, =
func:true},
{input:"tanh", tag:"mo", output:"tanh", tex:null, ttype:UNARY, =
func:true},
{input:"cot",  tag:"mo", output:"cot", tex:null, ttype:UNARY, =
func:true},
{input:"sec",  tag:"mo", output:"sec", tex:null, ttype:UNARY, =
func:true},
{input:"csc",  tag:"mo", output:"csc", tex:null, ttype:UNARY, =
func:true},
{input:"log",  tag:"mo", output:"log", tex:null, ttype:UNARY, =
func:true},
{input:"ln",   tag:"mo", output:"ln",  tex:null, ttype:UNARY, =
func:true},
{input:"abs",   tag:"mo", output:"abs",  tex:null, ttype:UNARY, =
func:true},
{input:"Sin",  tag:"mo", output:"sin", tex:null, ttype:UNARY, =
func:true},
{input:"Cos",  tag:"mo", output:"cos", tex:null, ttype:UNARY, =
func:true},
{input:"Tan",  tag:"mo", output:"tan", tex:null, ttype:UNARY, =
func:true},
{input:"Arcsin",  tag:"mo", output:"arcsin", tex:null, ttype:UNARY, =
func:true},
{input:"Arccos",  tag:"mo", output:"arccos", tex:null, ttype:UNARY, =
func:true},
{input:"Arctan",  tag:"mo", output:"arctan", tex:null, ttype:UNARY, =
func:true},
{input:"Sinh", tag:"mo", output:"sinh", tex:null, ttype:UNARY, =
func:true},
{input:"Sosh", tag:"mo", output:"cosh", tex:null, ttype:UNARY, =
func:true},
{input:"Tanh", tag:"mo", output:"tanh", tex:null, ttype:UNARY, =
func:true},
{input:"Cot",  tag:"mo", output:"cot", tex:null, ttype:UNARY, =
func:true},
{input:"Sec",  tag:"mo", output:"sec", tex:null, ttype:UNARY, =
func:true},
{input:"Csc",  tag:"mo", output:"csc", tex:null, ttype:UNARY, =
func:true},
{input:"Log",  tag:"mo", output:"log", tex:null, ttype:UNARY, =
func:true},
{input:"Ln",   tag:"mo", output:"ln",  tex:null, ttype:UNARY, =
func:true},
{input:"Abs",   tag:"mo", output:"abs",  tex:null, ttype:UNARY, =
func:true},
{input:"det",  tag:"mo", output:"det", tex:null, ttype:UNARY, =
func:true},
{input:"exp",  tag:"mo", output:"exp", tex:null, ttype:UNARY, =
func:true},
{input:"dim",  tag:"mo", output:"dim", tex:null, ttype:CONST},
{input:"mod",  tag:"mo", output:"mod", tex:"text{mod}", ttype:CONST},
{input:"gcd",  tag:"mo", output:"gcd", tex:null, ttype:UNARY, =
func:true},
{input:"lcm",  tag:"mo", output:"lcm", tex:"text{lcm}", ttype:UNARY, =
func:true},
{input:"lub",  tag:"mo", output:"lub", tex:null, ttype:CONST},
{input:"glb",  tag:"mo", output:"glb", tex:null, ttype:CONST},
{input:"min",  tag:"mo", output:"min", tex:null, ttype:UNDEROVER},
{input:"max",  tag:"mo", output:"max", tex:null, ttype:UNDEROVER},

//arrows
{input:"uarr", tag:"mo", output:"\u2191", tex:"uparrow", ttype:CONST},
{input:"darr", tag:"mo", output:"\u2193", tex:"downarrow", ttype:CONST},
{input:"rarr", tag:"mo", output:"\u2192", tex:"rightarrow", =
ttype:CONST},
{input:"->",   tag:"mo", output:"\u2192", tex:"to", ttype:CONST},
{input:"|->",  tag:"mo", output:"\u21A6", tex:"mapsto", ttype:CONST},
{input:"larr", tag:"mo", output:"\u2190", tex:"leftarrow", ttype:CONST},
{input:"harr", tag:"mo", output:"\u2194", tex:"leftrightarrow", =
ttype:CONST},
{input:"rArr", tag:"mo", output:"\u21D2", tex:"Rightarrow", =
ttype:CONST},
{input:"lArr", tag:"mo", output:"\u21D0", tex:"Leftarrow", ttype:CONST},
{input:"hArr", tag:"mo", output:"\u21D4", tex:"Leftrightarrow", =
ttype:CONST},

//commands with argument
AMsqrt, AMroot, AMfrac, AMdiv, AMover, AMsub, AMsup,
{input:"Sqrt", tag:"msqrt", output:"sqrt", tex:null, ttype:UNARY},
{input:"hat", tag:"mover", output:"\u005E", tex:null, ttype:UNARY, =
acc:true},
{input:"bar", tag:"mover", output:"\u00AF", tex:"overline", ttype:UNARY, =
acc:true},
{input:"vec", tag:"mover", output:"\u2192", tex:null, ttype:UNARY, =
acc:true},
{input:"dot", tag:"mover", output:".",      tex:null, ttype:UNARY, =
acc:true},
{input:"ddot", tag:"mover", output:"..",    tex:null, ttype:UNARY, =
acc:true},
{input:"ul", tag:"munder", output:"\u0332", tex:"underline", =
ttype:UNARY, acc:true},
AMtext, AMmbox, AMquote,
{input:"bb", tag:"mstyle", atname:"fontweight", atval:"bold", =
output:"bb", tex:"mathbf", ttype:UNARY, notexcopy:true},
{input:"mathbf", tag:"mstyle", atname:"fontweight", atval:"bold", =
output:"mathbf", tex:null, ttype:UNARY},
{input:"sf", tag:"mstyle", atname:"fontfamily", atval:"sans-serif", =
output:"sf", tex:"mathsf", ttype:UNARY, notexcopy:true},
{input:"mathsf", tag:"mstyle", atname:"fontfamily", atval:"sans-serif", =
output:"mathsf", tex:null, ttype:UNARY},
{input:"bbb", tag:"mstyle", atname:"mathvariant", atval:"double-struck", =
output:"bbb", tex:"mathbb", ttype:UNARY, codes:AMbbb, notexcopy:true},
{input:"mathbb", tag:"mstyle", atname:"mathvariant", =
atval:"double-struck", output:"mathbb", tex:null, ttype:UNARY, =
codes:AMbbb},
{input:"cc",  tag:"mstyle", atname:"mathvariant", atval:"script", =
output:"cc", tex:"mathcal", ttype:UNARY, codes:AMcal, notexcopy:true},
{input:"mathcal", tag:"mstyle", atname:"mathvariant", atval:"script", =
output:"mathcal", tex:null, ttype:UNARY, codes:AMcal},
{input:"tt",  tag:"mstyle", atname:"fontfamily", atval:"monospace", =
output:"tt", tex:"mathtt", ttype:UNARY, notexcopy:true},
{input:"mathtt", tag:"mstyle", atname:"fontfamily", atval:"monospace", =
output:"mathtt", tex:null, ttype:UNARY},
{input:"fr",  tag:"mstyle", atname:"mathvariant", atval:"fraktur", =
output:"fr", tex:"mathfrak", ttype:UNARY, codes:AMfrk, notexcopy:true},
{input:"mathfrak",  tag:"mstyle", atname:"mathvariant", atval:"fraktur", =
output:"mathfrak", tex:null, ttype:UNARY, codes:AMfrk}
];

function compareNames(s1,s2) {
  if (s1.input > s2.input) return 1
  else return -1;
}

var AMnames =3D []; //list of input symbols

function AMinitSymbols() {
  var texsymbols =3D [], i;
  for (i=3D0; i<AMsymbols.length; i++)
    if (AMsymbols[i].tex && !(typeof AMsymbols[i].notexcopy =3D=3D =
"boolean" && AMsymbols[i].notexcopy))=20
      texsymbols[texsymbols.length] =3D {input:AMsymbols[i].tex,=20
        tag:AMsymbols[i].tag, output:AMsymbols[i].output, =
ttype:AMsymbols[i].ttype};
  AMsymbols =3D AMsymbols.concat(texsymbols);
  AMsymbols.sort(compareNames);
  for (i=3D0; i<AMsymbols.length; i++) AMnames[i] =3D =
AMsymbols[i].input;
}

function newcommand(oldstr,newstr) {
  AMsymbols =3D AMsymbols.concat([{input:oldstr, tag:"mo", =
output:newstr,=20
                                 tex:null, ttype:DEFINITION}]);
}

function AMremoveCharsAndBlanks(str,n) {
//remove n characters and any following blanks
  var st;
  if (str.charAt(n)=3D=3D"\\" && str.charAt(n+1)!=3D"\\" && =
str.charAt(n+1)!=3D" ")=20
    st =3D str.slice(n+1);
  else st =3D str.slice(n);
  for (var i=3D0; i<st.length && st.charCodeAt(i)<=3D32; i=3Di+1);
  return st.slice(i);
}

function AMposition(arr, str, n) {=20
// return position >=3Dn where str appears or would be inserted
// assumes arr is sorted
  if (n=3D=3D0) {
    var h,m;
    n =3D -1;
    h =3D arr.length;
    while (n+1<h) {
      m =3D (n+h) >> 1;
      if (arr[m]<str) n =3D m; else h =3D m;
    }
    return h;
  } else
    for (var i=3Dn; i<arr.length && arr[i]<str; i++);
  return i; // i=3Darr.length || arr[i]>=3Dstr
}

function AMgetSymbol(str) {
//return maximal initial substring of str that appears in names
//return null if there is none
  var k =3D 0; //new pos
  var j =3D 0; //old pos
  var mk; //match pos
  var st;
  var tagst;
  var match =3D "";
  var more =3D true;
  for (var i=3D1; i<=3Dstr.length && more; i++) {
    st =3D str.slice(0,i); //initial substring of length i
    j =3D k;
    k =3D AMposition(AMnames, st, j);
    if (k<AMnames.length && =
str.slice(0,AMnames[k].length)=3D=3DAMnames[k]){
      match =3D AMnames[k];
      mk =3D k;
      i =3D match.length;
    }
    more =3D k<AMnames.length && =
str.slice(0,AMnames[k].length)>=3DAMnames[k];
  }
  AMpreviousSymbol=3DAMcurrentSymbol;
  if (match!=3D""){
    AMcurrentSymbol=3DAMsymbols[mk].ttype;
    return AMsymbols[mk];=20
  }
// if str[0] is a digit or - return maxsubstring of digits.digits
  AMcurrentSymbol=3DCONST;
  k =3D 1;
  st =3D str.slice(0,1);
  var integ =3D true;
 	 =20
  while ("0"<=3Dst && st<=3D"9" && k<=3Dstr.length) {
    st =3D str.slice(k,k+1);
    k++;
  }
  if (st =3D=3D decimalsign) {
    st =3D str.slice(k,k+1);
    if ("0"<=3Dst && st<=3D"9") {
      integ =3D false;
      k++;
      while ("0"<=3Dst && st<=3D"9" && k<=3Dstr.length) {
        st =3D str.slice(k,k+1);
        k++;
      }
    }
  }
  if ((integ && k>1) || k>2) {
    st =3D str.slice(0,k-1);
    tagst =3D "mn";
  } else {
    k =3D 2;
    st =3D str.slice(0,1); //take 1 character
    tagst =3D (("A">st || st>"Z") && ("a">st || st>"z")?"mo":"mi");
  }
  if (st=3D=3D"-" && AMpreviousSymbol=3D=3DINFIX) {
    AMcurrentSymbol =3D INFIX;
    return {input:st, tag:tagst, output:st, ttype:UNARY, func:true, =
val:true};
  }
  return {input:st, tag:tagst, output:st, ttype:CONST, val:true}; =
//added val bit
}

function AMTremoveBrackets(node) {
=09
  var st;
  if (node.charAt(0)=3D=3D'{' && node.charAt(node.length-1)=3D=3D'}') {

    st =3D node.charAt(1);
    if (st=3D=3D"(" || st=3D=3D"[") node =3D '{'+node.substr(2);
    st =3D node.substr(1,6);
    if (st=3D=3D"\\left(" || st=3D=3D"\\left[" || st=3D=3D"\\left{") =
node =3D '{'+node.substr(7);
    st =3D node.substr(1,12);
    if (st=3D=3D"\\left\\lbrace" || st=3D=3D"\\left\\langle") node =3D =
'{'+node.substr(13);
    st =3D node.charAt(node.length-2);
    if (st=3D=3D")" || st=3D=3D"]") node =3D =
node.substr(0,node.length-8)+'}';
    st =3D node.substr(node.length-8,7)
    if (st=3D=3D"\\rbrace" || st=3D=3D"\\rangle") node =3D =
node.substr(0,node.length-14) + '}';
   =20
  }=20
  return node;
}

/*Parsing ASCII math expressions with the following grammar
v ::=3D [A-Za-z] | greek letters | numbers | other constant symbols
u ::=3D sqrt | text | bb | other unary symbols for font commands
b ::=3D frac | root | stackrel         binary symbols
l ::=3D ( | [ | { | (: | {:            left brackets
r ::=3D ) | ] | } | :) | :}            right brackets
S ::=3D v | lEr | uS | bSS             Simple expression
I ::=3D S_S | S^S | S_S^S | S          Intermediate expression
E ::=3D IE | I/I                       Expression
Each terminal symbol is translated into a corresponding mathml node.*/

var AMnestingDepth,AMpreviousSymbol,AMcurrentSymbol;

function AMTgetTeXsymbol(symb) {
	if (typeof symb.val =3D=3D "boolean" && symb.val) {
		pre =3D '';
	} else {
		pre =3D '\\';
	}
	if (symb.tex=3D=3Dnull) {
		return (pre+symb.input);
	} else {
		return (pre+symb.tex);
	}
}
function AMTgetTeXbracket(symb) {
	if (symb.tex=3D=3Dnull) {
		return (symb.input);
	} else {
		return ('\\'+symb.tex);
	}
}

function AMTparseSexpr(str) { //parses str and returns [node,tailstr]
  var symbol, node, result, i, st,// rightvert =3D false,
    newFrag =3D '';
  str =3D AMremoveCharsAndBlanks(str,0);
  symbol =3D AMgetSymbol(str);             //either a token or a bracket =
or empty
  if (symbol =3D=3D null || symbol.ttype =3D=3D RIGHTBRACKET && =
AMnestingDepth > 0) {
    return [null,str];
  }
  if (symbol.ttype =3D=3D DEFINITION) {
    str =3D =
symbol.output+AMremoveCharsAndBlanks(str,symbol.input.length);=20
    symbol =3D AMgetSymbol(str);
  }
  switch (symbol.ttype) {
  case UNDEROVER:
  case CONST:
    str =3D AMremoveCharsAndBlanks(str,symbol.input.length);=20
     var texsymbol =3D AMTgetTeXsymbol(symbol);
     if (texsymbol.charAt(0)=3D=3D"\\" || symbol.tag=3D=3D"mo") return =
[texsymbol,str];
     else return ['{'+texsymbol+'}',str];
   =20
  case LEFTBRACKET:   //read (expr+)
    AMnestingDepth++;
    str =3D AMremoveCharsAndBlanks(str,symbol.input.length);=20
  =20
    result =3D AMTparseExpr(str,true);
    AMnestingDepth--;
    if (typeof symbol.invisible =3D=3D "boolean" && symbol.invisible)=20
    	node =3D '{\\left.'+result[0]+'}';
    else {
	    node =3D '{\\left'+AMTgetTeXbracket(symbol) + result[0]+'}';
    }
    return [node,result[1]];
  case TEXT:
      if (symbol!=3DAMquote) str =3D =
AMremoveCharsAndBlanks(str,symbol.input.length);
      if (str.charAt(0)=3D=3D"{") i=3Dstr.indexOf("}");
      else if (str.charAt(0)=3D=3D"(") i=3Dstr.indexOf(")");
      else if (str.charAt(0)=3D=3D"[") i=3Dstr.indexOf("]");
      else if (symbol=3D=3DAMquote) i=3Dstr.slice(1).indexOf("\"")+1;
      else i =3D 0;
      if (i=3D=3D-1) i =3D str.length;
      st =3D str.slice(1,i);
      if (st.charAt(0) =3D=3D " ") {
	      newFrag =3D '\\ ';
      }
     newFrag +=3D '\\text{'+st+'}';
      if (st.charAt(st.length-1) =3D=3D " ") {
	      newFrag +=3D '\\ ';
      }
      str =3D AMremoveCharsAndBlanks(str,i+1);
      return [newFrag,str];
  case UNARY:
      str =3D AMremoveCharsAndBlanks(str,symbol.input.length);=20
      result =3D AMTparseSexpr(str);
      if (result[0]=3D=3Dnull) return =
['{'+AMTgetTeXsymbol(symbol)+'}',str];
      if (typeof symbol.func =3D=3D "boolean" && symbol.func) { // =
functions hack
        st =3D str.charAt(0);
        if (st=3D=3D"^" || st=3D=3D"_" || st=3D=3D"/" || st=3D=3D"|" || =
st=3D=3D",") {
          return ['{'+AMTgetTeXsymbol(symbol)+'}',str];
        } else {
		node =3D '{'+AMTgetTeXsymbol(symbol)+'{'+result[0]+'}}';
		return [node,result[1]];
        }
      }
      result[0] =3D AMTremoveBrackets(result[0]);
      if (symbol.input =3D=3D "sqrt") {           // sqrt
	      return ['\\sqrt{'+result[0]+'}',result[1]];
      } else if (typeof symbol.acc =3D=3D "boolean" && symbol.acc) {   =
// accent
	      return =
['{'+AMTgetTeXsymbol(symbol)+'{'+result[0]+'}}',result[1]];
      } else {                        // font change command =20
	    return ['{'+AMTgetTeXsymbol(symbol)+'{'+result[0]+'}}',result[1]];
      }
  case BINARY:
    str =3D AMremoveCharsAndBlanks(str,symbol.input.length);=20
    result =3D AMTparseSexpr(str);
    if (result[0]=3D=3Dnull) return =
['{'+AMTgetTeXsymbol(symbol)+'}',str];
    result[0] =3D AMTremoveBrackets(result[0]);
    var result2 =3D AMTparseSexpr(result[1]);
    if (result2[0]=3D=3Dnull) return =
['{'+AMTgetTeXsymbol(symbol)+'}',str];
    result2[0] =3D AMTremoveBrackets(result2[0]);
    if (symbol.input=3D=3D"root" || symbol.input=3D=3D"stackrel") {
	    if (symbol.input=3D=3D"root") {
		    newFrag =3D '{\\sqrt['+result[0]+']{'+result2[0]+'}}';
	    } else {
		    newFrag =3D =
'{'+AMTgetTeXsymbol(symbol)+'{'+result[0]+'}{'+result2[0]+'}}';
	    }
    }
    if (symbol.input=3D=3D"frac") {
	    newFrag =3D '{\\frac{'+result[0]+'}{'+result2[0]+'}}';
    }
    return [newFrag,result2[1]];
  case INFIX:
    str =3D AMremoveCharsAndBlanks(str,symbol.input.length);=20
    return [symbol.output,str];
  case SPACE:
    str =3D AMremoveCharsAndBlanks(str,symbol.input.length);
    return ['{\\quad\\text{'+symbol.input+'}\\quad}',str];
  case LEFTRIGHT:
//    if (rightvert) return [null,str]; else rightvert =3D true;
    AMnestingDepth++;
    str =3D AMremoveCharsAndBlanks(str,symbol.input.length);=20
    result =3D AMTparseExpr(str,false);
    AMnestingDepth--;
    var st =3D "";
    st =3D result[0].charAt(result[0].length -1);
//alert(result[0].lastChild+"***"+st);
    if (st =3D=3D "|") { // its an absolute value subterm
	    node =3D '{\\left|'+result[0]+'}';
      return [node,result[1]];
    } else { // the "|" is a \mid
      node =3D '{\\mid}';
      return [node,str];
    }
  =20
  default:
//alert("default");
    str =3D AMremoveCharsAndBlanks(str,symbol.input.length);=20
    return ['{'+AMTgetTeXsymbol(symbol)+'}',str];
  }
}

function AMTparseIexpr(str) {
  var symbol, sym1, sym2, node, result, underover;
  str =3D AMremoveCharsAndBlanks(str,0);
  sym1 =3D AMgetSymbol(str);
  result =3D AMTparseSexpr(str);
  node =3D result[0];
  str =3D result[1];
  symbol =3D AMgetSymbol(str);
  if (symbol.ttype =3D=3D INFIX && symbol.input !=3D "/") {
    str =3D AMremoveCharsAndBlanks(str,symbol.input.length);
   // if (symbol.input =3D=3D "/") result =3D AMTparseIexpr(str); else=20
    result =3D AMTparseSexpr(str);
    if (result[0] =3D=3D null) // show box in place of missing argument
	    result[0] =3D '{}';
    else result[0] =3D AMTremoveBrackets(result[0]);
    str =3D result[1];
//    if (symbol.input =3D=3D "/") AMTremoveBrackets(node);
    if (symbol.input =3D=3D "_") {
      sym2 =3D AMgetSymbol(str);
      underover =3D (sym1.ttype =3D=3D UNDEROVER);
      if (sym2.input =3D=3D "^") {
        str =3D AMremoveCharsAndBlanks(str,sym2.input.length);
        var res2 =3D AMTparseSexpr(str);
        res2[0] =3D AMTremoveBrackets(res2[0]);
        str =3D res2[1];
        node =3D '{' + node;
       	node +=3D '_{'+result[0]+'}';
	node +=3D '^{'+res2[0]+'}';
        node +=3D '}';
      } else {
        node +=3D '_{'+result[0]+'}';
      }
    } else { //must be ^
      node =3D '{'+node+'}^{'+result[0]+'}';
    }
  }=20
 =20
  return [node,str];
}

function AMTparseExpr(str,rightbracket) {
  var symbol, node, result, i, nodeList =3D [],
  newFrag =3D '';
  var addedright =3D false;
  do {
    str =3D AMremoveCharsAndBlanks(str,0);
    result =3D AMTparseIexpr(str);
    node =3D result[0];
    str =3D result[1];
    symbol =3D AMgetSymbol(str);
    if (symbol.ttype =3D=3D INFIX && symbol.input =3D=3D "/") {
      str =3D AMremoveCharsAndBlanks(str,symbol.input.length);
      result =3D AMTparseIexpr(str);
     =20
      if (result[0] =3D=3D null) // show box in place of missing =
argument
	      result[0] =3D '{}';
      else result[0] =3D AMTremoveBrackets(result[0]);
      str =3D result[1];
      node =3D AMTremoveBrackets(node);
      node =3D '\\frac' + '{'+ node + '}';
      node +=3D '{'+result[0]+'}';
      newFrag +=3D node;
      symbol =3D AMgetSymbol(str);
    }  else if (node!=3Dundefined) newFrag +=3D node;
  } while ((symbol.ttype !=3D RIGHTBRACKET &&=20
           (symbol.ttype !=3D LEFTRIGHT || rightbracket)
           || AMnestingDepth =3D=3D 0) && symbol!=3Dnull && =
symbol.output!=3D"");
  if (symbol.ttype =3D=3D RIGHTBRACKET || symbol.ttype =3D=3D LEFTRIGHT) =
{
//    if (AMnestingDepth > 0) AMnestingDepth--;
	var len =3D newFrag.length;
	if (len>2 && newFrag.charAt(0)=3D=3D'{' && newFrag.indexOf(',')>0) { =
//could be matrix (total rewrite from .js)
		var right =3D newFrag.charAt(len - 2);
		if (right=3D=3D')' || right=3D=3D']') {
			var left =3D newFrag.charAt(6);
			if ((left=3D=3D'(' && right=3D=3D')' && symbol.output !=3D '}') || =
(left=3D=3D'[' && right=3D=3D']')) {
				var mxout =3D '\\matrix{';
				var pos =3D new Array(); //position of commas
				pos.push(0);
				var matrix =3D true;
				var mxnestingd =3D 0;
				for (i=3D1; i<len-1; i++) {
					if (newFrag.charAt(i)=3D=3Dleft) mxnestingd++;
					if (newFrag.charAt(i)=3D=3Dright) {
						mxnestingd--;
						if (mxnestingd=3D=3D0 && newFrag.charAt(i+2)=3D=3D',' && =
newFrag.charAt(i+3)=3D=3D'{') pos.push(i+2);
					}
				}
				pos.push(len);
				var lastmxsubcnt =3D -1;
				if (mxnestingd=3D=3D0 && pos.length>0) {
					for (i=3D0;i<pos.length-1;i++) {
						if (i>0) mxout +=3D '\\\\';
						if (i=3D=3D0) {
							var subarr =3D =
newFrag.substr(pos[i]+7,pos[i+1]-pos[i]-15).split(',');
						} else {
							var subarr =3D =
newFrag.substr(pos[i]+8,pos[i+1]-pos[i]-16).split(',');
						}
						if (lastmxsubcnt>0 && subarr.length!=3Dlastmxsubcnt) {
							matrix =3D false;
						} else if (lastmxsubcnt=3D=3D-1) {
							lastmxsubcnt=3Dsubarr.length;
						}
						mxout +=3D subarr.join('&');
					}
				}
				mxout +=3D '}';
				if (matrix) { newFrag =3D mxout;}
			}
		}
	}
   =20
    str =3D AMremoveCharsAndBlanks(str,symbol.input.length);
    if (typeof symbol.invisible !=3D "boolean" || !symbol.invisible) {
      node =3D '\\right'+AMTgetTeXbracket(symbol); =
//AMcreateMmlNode("mo",document.createTextNode(symbol.output));
      newFrag +=3D node;
      addedright =3D true;
    } else {
	    newFrag +=3D '\\right.';
	    addedright =3D true;
    }
  =20
  }
  if(AMnestingDepth>0 && !addedright) {
	  newFrag +=3D '\\right.'; //adjust for non-matching left brackets
	  //todo: adjust for non-matching right brackets
  }
 =20
  return [newFrag,str];
}

function AMTparseAMtoTeX(str) {
 AMnestingDepth =3D 0;
 =20
  return AMTparseExpr(str.replace(/^\s+/g,""),false)[0];
}

function AMparseMath(str) {
 //DLMOD to remove &nbsp;, which editor adds on multiple spaces
  str =3D str.replace(/&nbsp;/g,"");
  str =3D str.replace(/&gt;/g,">");
  str =3D str.replace(/&lt;/g,"<");
  var texstring =3D AMTparseAMtoTeX(str);
  if (mathcolor!=3D"") {
	  texstring =3D "\\"+mathcolor + texstring;
  }
  if (displaystyle) {
	  texstring =3D "\\displaystyle" + texstring;
  } else {
	  texstring =3D "\\textstyle" + texstring;
  }
  var node =3D document.createElement("img");
  if (typeof encodeURIComponent =3D=3D "function") {
	  texstring =3D encodeURIComponent(texstring);
  } else {
	  texstring =3D escape(texstring);
  }
  node.src =3D AMTcgiloc + '?' + texstring;
  node.style.verticalAlign =3D "middle";
  if (showasciiformulaonhover)                      //fixed by djhsu so =
newline
    node.setAttribute("title",str.replace(/\s+/g," "));//does not show =
in Gecko
=20
  var snode =3D document.createElement("span");
  snode.appendChild(node); //chg
  return snode;
}

function AMstrarr2docFrag(arr, linebreaks) {
  var newFrag=3Ddocument.createDocumentFragment();
  var expr =3D false;
  for (var i=3D0; i<arr.length; i++) {
    if (expr) newFrag.appendChild(AMparseMath(arr[i]));
    else {
      var arri =3D (linebreaks ? arr[i].split("\n\n") : [arr[i]]);
      newFrag.appendChild(document.createElement("span").
      appendChild(document.createTextNode(arri[0])));
      for (var j=3D1; j<arri.length; j++) {
        newFrag.appendChild(document.createElement("p"));
        newFrag.appendChild(document.createElement("span").
        appendChild(document.createTextNode(arri[j])));
      }
    }
    expr =3D !expr;
  }
  return newFrag;
}

function AMprocessNodeR(n, linebreaks) {
  var mtch, str, arr, frg, i;
  if (n.childNodes.length =3D=3D 0) {
   if ((n.nodeType!=3D8 || linebreaks) &&
    n.parentNode.nodeName!=3D"form" && n.parentNode.nodeName!=3D"FORM" =
&&
    n.parentNode.nodeName!=3D"textarea" && =
n.parentNode.nodeName!=3D"TEXTAREA" &&
    n.parentNode.nodeName!=3D"pre" && n.parentNode.nodeName!=3D"PRE") {
    str =3D n.nodeValue;
    if (!(str =3D=3D null)) {
      str =3D str.replace(/\r\n\r\n/g,"\n\n");
      if (doubleblankmathdelimiter) {
        str =3D str.replace(/\x20\x20\./g," "+AMdelimiter1+".");
        str =3D str.replace(/\x20\x20,/g," "+AMdelimiter1+",");
        str =3D str.replace(/\x20\x20/g," "+AMdelimiter1+" ");
      }
      str =3D str.replace(/\x20+/g," ");
      str =3D str.replace(/\s*\r\n/g," ");
       mtch =3D false;
      if (AMusedelimiter2) {
      str =3D str.replace(new RegExp(AMescape2, "g"),
              function(st){mtch=3Dtrue;return "AMescape2"});
      }
      str =3D str.replace(new RegExp(AMescape1, "g"),
              function(st){mtch=3Dtrue;return "AMescape1"});
     if (AMusedelimiter2)  str =3D str.replace(new =
RegExp(AMdelimiter2regexp, "g"),AMdelimiter1);
      arr =3D str.split(AMdelimiter1);
      for (i=3D0; i<arr.length; i++)
      	if (AMusedelimiter2) {	    =20
		=
arr[i]=3Darr[i].replace(/AMescape2/g,AMdelimiter2).replace(/AMescape1/g,A=
Mdelimiter1);
	}
      if (arr.length>1 || mtch) {
       =20
      frg =3D AMstrarr2docFrag(arr,n.nodeType=3D=3D8);
      var len =3D frg.childNodes.length;
      n.parentNode.replaceChild(frg,n);
      return len-1;
       =20
      }
    }
   } else return 0;
  } else if (n.nodeName!=3D"math") { //should this change to img?
    for (i=3D0; i<n.childNodes.length; i++)
      i +=3D AMprocessNodeR(n.childNodes[i], linebreaks);
  }
  return 0;
}

function AMprocessNode(n, linebreaks, spanclassAM) {
  var frag,st;
  if (spanclassAM!=3Dnull) {;
    frag =3D document.getElementsByTagName("span")
    for (var i=3D0;i<frag.length;i++)
      if (frag[i].className =3D=3D "AM")
        AMprocessNodeR(frag[i],linebreaks);
  } else {
    try {
      st =3D n.innerHTML;
    } catch(err) {}
    if (st=3D=3Dnull ||=20
        st.indexOf(AMdelimiter1)!=3D-1)// || =
st.indexOf(AMdelimiter2)!=3D-1)=20
      AMprocessNodeR(n,linebreaks);
  }
}

var AMbody;
var AMtranslated =3D false;


AMinitSymbols();

------=_NextPart_000_0000_01CCCC6C.E76A4F20
Content-Type: application/octet-stream
Content-Transfer-Encoding: quoted-printable
Content-Location: http://os.zju.edu.cn/exercise/javascript/mathjs.js

var pi =3D Math.PI, ln =3D Math.log, e =3D Math.E;
var arcsin =3D Math.asin, arccos =3D Math.acos, arctan =3D Math.atan;
var sec =3D function(x) { return 1/Math.cos(x) };
var csc =3D function(x) { return 1/Math.sin(x) };
var cot =3D function(x) { return 1/Math.tan(x) };

var arcsec =3D function(x) { return arccos(1/x) };
var arccsc =3D function(x) { return arcsin(1/x) };
var arccot =3D function(x) { return arctan(1/x) };
var sinh =3D function(x) { return (Math.exp(x)-Math.exp(-x))/2 };
var cosh =3D function(x) { return (Math.exp(x)+Math.exp(-x))/2 };
var tanh =3D=20
  function(x) { return =
(Math.exp(x)-Math.exp(-x))/(Math.exp(x)+Math.exp(-x)) };
var sech =3D function(x) { return 1/cosh(x) };
var csch =3D function(x) { return 1/sinh(x) };
var coth =3D function(x) { return 1/tanh(x) };

var arcsinh =3D function(x) { return ln(x+Math.sqrt(x*x+1)) };
var arccosh =3D function(x) { return ln(x+Math.sqrt(x*x-1)) };
var arctanh =3D function(x) { return ln((1+x)/(1-x))/2 };
var sech =3D function(x) { return 1/cosh(x) };
var csch =3D function(x) { return 1/sinh(x) };
var coth =3D function(x) { return 1/tanh(x) };
var arcsech =3D function(x) { return arccosh(1/x) };
var arccsch =3D function(x) { return arcsinh(1/x) };
var arccoth =3D function(x) { return arctanh(1/x) };
var sign =3D function(x) { return (x=3D=3D0?0:(x<0?-1:1)) };
var logten =3D function(x) { return (Math.LOG10E*Math.log(x)) };


function factorial(x,n) {
  if (n=3D=3Dnull) n=3D1;
  for (var i=3Dx-n; i>0; i-=3Dn) x*=3Di;
  return (x<0?NaN:(x=3D=3D0?1:x));
}


function C(x,k) {
  var res=3D1;
  for (var i=3D0; i<k; i++) res*=3D(x-i)/(k-i);
  return res;
}

function matchtolower(match) {
	return match.toLowerCase();
}
function nthroot(n,base) {
	return safepow(base,1/n);
}

function safepow(base,power) {
	if (base<0 && Math.floor(power)!=3Dpower) {
		for (var j=3D3; j<50; j+=3D2) {
			if (Math.abs(Math.round(j*power)-(j*power))<.000001) {
				if (Math.round(j*power)%2=3D=3D0) {
					return Math.pow(Math.abs(base),power);
				} else {
					return -1*Math.pow(Math.abs(base),power);
				}
			}
		}
		return sqrt(-1);
	} else {
		return Math.pow(base,power);
	}
}
function mathjs(st,varlist) {
  //translate a math formula to js function notation
  // a^b --> pow(a,b)
  // na --> n*a
  // (...)d --> (...)*d
  // n! --> factorial(n)
  // sin^-1 --> arcsin etc.
  //while ^ in string, find term on left and right
  //slice and concat new formula string
  //parenthesizes the function variables
  st =3D st.replace("[","(");
  st =3D st.replace("]",")");
  if (varlist !=3D null) {
	  var reg =3D new RegExp("("+varlist+")("+varlist+")$","g");
	  st =3D st.replace(reg,"($1)($2)");
	  var reg =3D new =
RegExp("("+varlist+")(sqrt|ln|log|sin|cos|tan|sec|csc|cot|abs)");
	  st =3D st.replace(reg,"($1)$2");
	  var reg =3D new =
RegExp("("+varlist+")("+varlist+")([^a-df-zA-Z\(])","g");
	  st =3D st.replace(reg,"($1)($2)$3");
	  var reg =3D new RegExp("("+varlist+")("+varlist+")(\w*[^\(])","g");
	  st =3D st.replace(reg,"($1)($2)$3");
	  var reg =3D new =
RegExp("([^a-df-zA-Z])("+varlist+")([^a-df-zA-Z])","g");
	  st =3D st.replace(reg,"$1($2)$3");	 =20
	  var reg =3D new RegExp("^("+varlist+")([^a-df-zA-Z])","g");
	  st =3D st.replace(reg,"($1)$2");
	  var reg =3D new RegExp("([^a-df-zA-Z])("+varlist+")$","g");
	  st =3D st.replace(reg,"$1($2)");
  }
  st =3D st.replace(/\s/g,"");
  st =3D st.replace(/log/g,"logten");
  st =3D st.replace(/(Sin|Cos|Tan|Sec|Csc|Cot|Arc|Abs|Log|Ln)/g, =
matchtolower);
  if (st.indexOf("^-1")!=3D-1) {
    st =3D st.replace(/sin\^-1/g,"arcsin");
    st =3D st.replace(/cos\^-1/g,"arccos");
    st =3D st.replace(/tan\^-1/g,"arctan");
    st =3D st.replace(/sec\^-1/g,"arcsec");
    st =3D st.replace(/csc\^-1/g,"arccsc");
    st =3D st.replace(/cot\^-1/g,"arccot");
    st =3D st.replace(/sinh\^-1/g,"arcsinh");
    st =3D st.replace(/cosh\^-1/g,"arccosh");
    st =3D st.replace(/tanh\^-1/g,"arctanh");
    st =3D st.replace(/sech\^-1/g,"arcsech");
    st =3D st.replace(/csch\^-1/g,"arccsch");
    st =3D st.replace(/coth\^-1/g,"arccoth");
  }
 =20
  st =3D st.replace(/root\((\d+)\)\(/,"nthroot($1,");
  //st =3D st.replace(/E/g,"(EE)");
  st =3D st.replace(/([0-9])E([\-0-9])/g,"$1(EE)$2");
  st =3D st.replace(/^e$/g,"(E)");
  st =3D st.replace(/pi/g,"(pi)");
  st =3D st.replace(/^e([^a-zA-Z])/g,"(E)$1");
  st =3D st.replace(/([^a-zA-Z])e$/g,"$1(E)");
 =20
  st =3D st.replace(/([^a-zA-Z])e([^a-zA-Z])/g,"$1(E)$2");
  st =3D st.replace(/([0-9])([\(a-zA-Z])/g,"$1*$2");
  st =3D st.replace(/(!)([0-9\(])/g,"$1*$2");
  //want to keep scientific notation
  st=3D st.replace(/([0-9])\*\(EE\)([\-0-9])/,"$1e$2");

 =20
  st =3D st.replace(/\)([\(0-9a-zA-Z])/g,"\)*$1");
 =20
  var i,j,k, ch, nested;
  while ((i=3Dst.indexOf("^"))!=3D-1) {
    //find left argument
    if (i=3D=3D0) return "Error: missing argument";
    j =3D i-1;
    ch =3D st.charAt(j);
    if (ch>=3D"0" && ch<=3D"9") {// look for (decimal) number
      j--;
      while (j>=3D0 && (ch=3Dst.charAt(j))>=3D"0" && ch<=3D"9") j--;
      if (ch=3D=3D".") {
        j--;
        while (j>=3D0 && (ch=3Dst.charAt(j))>=3D"0" && ch<=3D"9") j--;
      }
    } else if (ch=3D=3D")") {// look for matching opening bracket and =
function name
      nested =3D 1;
      j--;
      while (j>=3D0 && nested>0) {
        ch =3D st.charAt(j);
        if (ch=3D=3D"(") nested--;
        else if (ch=3D=3D")") nested++;
        j--;
      }
      while (j>=3D0 && (ch=3Dst.charAt(j))>=3D"a" && ch<=3D"z" || =
ch>=3D"A" && ch<=3D"Z")
        j--;
    } else if (ch>=3D"a" && ch<=3D"z" || ch>=3D"A" && ch<=3D"Z") {// =
look for variable
      j--;
      while (j>=3D0 && (ch=3Dst.charAt(j))>=3D"a" && ch<=3D"z" || =
ch>=3D"A" && ch<=3D"Z")
        j--;
    } else {=20
      return "Error: incorrect syntax in "+st+" at position "+j;
    }
    //find right argument
    if (i=3D=3Dst.length-1) return "Error: missing argument";
    k =3D i+1;
    ch =3D st.charAt(k);
    nch =3D st.charAt(k+1);
    if (ch>=3D"0" && ch<=3D"9" || (ch=3D=3D"-" && nch!=3D"(") || =
ch=3D=3D".") {// look for signed (decimal) number
      k++;
      while (k<st.length && (ch=3Dst.charAt(k))>=3D"0" && ch<=3D"9") =
k++;
      if (ch=3D=3D".") {
        k++;
        while (k<st.length && (ch=3Dst.charAt(k))>=3D"0" && ch<=3D"9") =
k++;
      }
    } else if (ch=3D=3D"(" || (ch=3D=3D"-" && nch=3D=3D"(")) {// look =
for matching closing bracket and function name
      if (ch=3D=3D"-") { k++;}
      nested =3D 1;
      k++;
      while (k<st.length && nested>0) {
        ch =3D st.charAt(k);
        if (ch=3D=3D"(") nested++;
        else if (ch=3D=3D")") nested--;
        k++;
      }
    } else if (ch>=3D"a" && ch<=3D"z" || ch>=3D"A" && ch<=3D"Z") {// =
look for variable
      k++;
      while (k<st.length && (ch=3Dst.charAt(k))>=3D"a" && ch<=3D"z" ||
               ch>=3D"A" && ch<=3D"Z") k++;
    } else {=20

      return "Error: incorrect syntax in "+st+" at position "+k;
    }
    st =3D =
st.slice(0,j+1)+"safepow("+st.slice(j+1,i)+","+st.slice(i+1,k)+")"+
           st.slice(k);
  }
  while ((i=3Dst.indexOf("!"))!=3D-1) {
    //find left argument
    if (i=3D=3D0) return "Error: missing argument";
    j =3D i-1;
    ch =3D st.charAt(j);
    if (ch>=3D"0" && ch<=3D"9") {// look for (decimal) number
      j--;
      while (j>=3D0 && (ch=3Dst.charAt(j))>=3D"0" && ch<=3D"9") j--;
      if (ch=3D=3D".") {
        j--;
        while (j>=3D0 && (ch=3Dst.charAt(j))>=3D"0" && ch<=3D"9") j--;
      }
    } else if (ch=3D=3D")") {// look for matching opening bracket and =
function name
      nested =3D 1;
      j--;
      while (j>=3D0 && nested>0) {
        ch =3D st.charAt(j);
        if (ch=3D=3D"(") nested--;
        else if (ch=3D=3D")") nested++;
        j--;
      }
      while (j>=3D0 && (ch=3Dst.charAt(j))>=3D"a" && ch<=3D"z" || =
ch>=3D"A" && ch<=3D"Z")
        j--;
    } else if (ch>=3D"a" && ch<=3D"z" || ch>=3D"A" && ch<=3D"Z") {// =
look for variable
      j--;
      while (j>=3D0 && (ch=3Dst.charAt(j))>=3D"a" && ch<=3D"z" || =
ch>=3D"A" && ch<=3D"Z")
        j--;
    } else {=20
      return "Error: incorrect syntax in "+st+" at position "+j;
    }
    st =3D =
st.slice(0,j+1)+"factorial("+st.slice(j+1,i)+")"+st.slice(i+1);
  }

  return st;
}

------=_NextPart_000_0000_01CCCC6C.E76A4F20
Content-Type: application/octet-stream
Content-Transfer-Encoding: quoted-printable
Content-Location: http://os.zju.edu.cn/exercise/javascript/AMhelpers.js

//IMathAS:  Handles preview buttons and pre-submit calculations for =
assessments
//(c) 2006 David Lippman

//handles preview button for calculated type
function calculate(inputId,outputId,format) {
  var fullstr =3D document.getElementById(inputId).value;
  if (format.indexOf('list')!=3D-1) {
	  var strarr =3D fullstr.split(/,/);
  } else {
	  var strarr =3D new Array();
	  strarr[0] =3D fullstr;
  }
  for (var sc=3D0;sc<strarr.length;sc++) {
	  str =3D strarr[sc];
	  str =3D str.replace(/,/g,"");
	  var err =3D "";
	  if (str.match(/DNE/i)) {
		  str =3D str.toUpperCase();
	  } else if (str.match(/oo$/) || str.match(/oo\W/)) {
		  str =3D "`"+str+"`";
	  } else {
		  if (format.indexOf('fraction')!=3D-1 || =
format.indexOf('reducedfraction')!=3D-1) {
			  str =3D str.replace(/\s/,'');
			  if (!str.match(/^\s*\-?\(?\d+\s*\/\s*\-?\d+\)?\s*$/) && =
!str.match(/^\s*?\-?\d+\s*$/)) {
				err +=3D "not a valid fraction"; =20
			  }
		  } else if (format.indexOf('fracordec')!=3D-1) {
			  str =3D str.replace(/\s/,'');
			  if (!str.match(/^\s*\-?\(?\d+\s*\/\s*\-?\d+\)?\s*$/) && =
!str.match(/^\s*?\-?\d+\s*$/) && !str.match(/^\s*\-?\d+\.?(\d+)?\d*$/)) =
{
				err +=3D " invalid entry format"; =20
			  }
		  } else if (format.indexOf('mixednumber')!=3D-1) {
			  if (!str.match(/^\s*\-?\s*\d+\s*_\s*\d+\s*\/\s*\d+\s*$/) && =
!str.match(/^\s*?\-?\d+\s*$/) && =
!str.match(/^\s*\-?\d+\s*\/\s*\-?\d+\s*$/)) {
				err +=3D "not a valid mixed number";
			  }
			  str =3D str.replace(/_/,' ');
		  }
		  if (format.indexOf('notrig')!=3D-1 && =
str.match(/(sin|cos|tan|cot|sec|csc)/)) {
			  str =3D "no trig functions allowed";
		  } else if (format.indexOf('nodecimal')!=3D-1 && =
str.indexOf('.')!=3D-1) {
			  str =3D "no decimals allowed";
		  } else {
			  try {
			    with (Math) var res =3D eval(mathjs(str));
			  } catch(e) {
			    err =3D "syntax incomplete";
			  }
			  if (!isNaN(res) && res!=3D"Infinity") {
				  if (format.indexOf('fraction')!=3D-1 || =
format.indexOf('reducedfraction')!=3D-1 || =
format.indexOf('mixednumber')!=3D-1) {
					  str =3D "`"+str+"` " + err;
				  } else {
					  str =3D "`"+str+" =3D` "+(Math.abs(res)<1e-15?0:res)+err;
				  }
			  } else if (str!=3D"") {
				  var Pdepth =3D 0; var Bdepth =3D 0;
				  for (var i=3D0; i<str.length; i++) {
					if (str.charAt(i)=3D=3D'(') {
						Pdepth++;
					} else if (str.charAt(i)=3D=3D')') {
						Pdepth--;
					} else if (str.charAt(i)=3D=3D'[') {
						Bdepth++;
					} else if (str.charAt(i)=3D=3D']') {
						Bdepth--;
					}
				  }
				  str =3D "`"+str+"` =3D undefined";
				  if (Pdepth!=3D0 || Bdepth!=3D0) {
					  str +=3D " (unmatched parens)";
				  }
				  trg =3D str.match(/(sin|cos|tan|sec|csc|cot)\^/);
				  reg =3D new =
RegExp("(sqrt|ln|log|sin|cos|tan|sec|csc|cot|abs)([^\(])");
				  errstuff =3D str.match(reg)
				  if (trg!=3Dnull) {
					  trg =3D trg[1];
					  str +=3D " [use ("+trg+"(x))^2 instead of "+trg+"^2(x)]";
				  } else if (errstuff!=3Dnull) { =20
					  str +=3D " [use function notation - =
"+errstuff[1]+"("+errstuff[2]+"), not "+errstuff[0]+"]";
				  }
			  }
		  }
	  }
	  strarr[sc] =3D str+" ";
  }
  fullstr =3D strarr.join(', ');
  var outnode =3D document.getElementById(outputId);
  var n =3D outnode.childNodes.length;
  for (var i=3D0; i<n; i++)
    outnode.removeChild(outnode.firstChild);
  outnode.appendChild(document.createTextNode(fullstr));
  if (!noMathRender) {
	  AMprocessNode(outnode);
  }
}

//preview for calcinterval type=20
function intcalculate(inputId,outputId) {
  var fullstr =3D document.getElementById(inputId).value;
  fullstr =3D fullstr.replace(/\s+/g,'');
  if (fullstr.match(/DNE/i)) {
	  fullstr =3D fullstr.toUpperCase();
  } else {
	  var calcvals =3D new Array();
	  var calcstrarr =3D new Array();
	  strarr =3D fullstr.split(/U/);
	  for (i=3D0; i<strarr.length; i++) {
		  str =3D strarr[i];
		  sm =3D str.charAt(0);
		  em =3D str.charAt(str.length-1);
		  vals =3D str.substring(1,str.length-1);
		  vals =3D vals.split(/,/);
		  for (j=3D0; j<2; j++) {=09
			  if (vals[j].match(/oo$/) || vals[j].match(/oo\W/)) {
				  calcvals[j] =3D vals[j];
			  } else {
				  var err =3D "";
				 =20
				  try {
				    with (Math) var res =3D eval(mathjs(vals[j]));
				  } catch(e) {
				    err =3D "syntax incomplete";
				  }
				  if (!isNaN(res) && res!=3D"Infinity") {
					 // if (format.indexOf('fraction')!=3D-1 || =
format.indexOf('reducedfraction')!=3D-1 || =
format.indexOf('mixednumber')!=3D-1) {
						  vals[j] =3D vals[j];
						  calcvals[j] =3D (Math.abs(res)<1e-15?0:res)+err;
					  //} else {
						//  str =3D "`"+str+" =3D` "+(Math.abs(res)<1e-15?0:res)+err;
					  //}
				  } =09
			  }
		  }
		  strarr[i] =3D sm + vals[0] + ',' + vals[1] + em;
		  calcstrarr[i] =3D sm + calcvals[0] + ',' + calcvals[1] + em;
	 }
  }
  fullstr =3D '`'+strarr.join('uu') + '` =3D ' + calcstrarr.join(' U ');
 =20
  var outnode =3D document.getElementById(outputId);
  var n =3D outnode.childNodes.length;
  for (var i=3D0; i<n; i++)
    outnode.removeChild(outnode.firstChild);
  outnode.appendChild(document.createTextNode(fullstr));
  if (!noMathRender) {
	  AMprocessNode(outnode);
  }
=09
}

function ntuplecalc(inputId,outputId) {
	var fullstr =3D document.getElementById(inputId).value;
	fullstr =3D fullstr.replace(/\s+/g,'');
	if (fullstr.match(/DNE/i)) {
		fullstr =3D fullstr.toUpperCase();
		outcalced =3D 'DNE';
		outstr =3D 'DNE';
	} else {
		var outcalced =3D '';
		var NCdepth =3D 0;
		var lastcut =3D 0;
		for (var i=3D0; i<fullstr.length; i++) {
			dec =3D false;
			if (NCdepth=3D=3D0) {
				outcalced +=3D fullstr.charAt(i);
				lastcut =3D i+1;
			}=20
			if (fullstr.charAt(i).match(/[\(\[\<\{]/)) {
				NCdepth++;	=09
			} else if (fullstr.charAt(i).match(/[\)\]\>\}]/)) {
				NCdepth--;=09
				dec =3D true;
			}=09
		=09
			if ((NCdepth=3D=3D0 && dec) || (NCdepth=3D=3D1 && =
fullstr.charAt(i)=3D=3D',')) {
				sub =3D fullstr.substring(lastcut,i);
				try {
				    with (Math) var res =3D eval(mathjs(sub));
				} catch(e) {
				    err =3D "syntax incomplete";
				}
				if (!isNaN(res) && res!=3D"Infinity") {
					outcalced +=3D res;
				} else {
					outcalced +=3D err;
				}
				outcalced +=3D fullstr.charAt(i);
				lastcut =3D i+1;
			}
		}
		outstr =3D '`'+fullstr+'` =3D '+outcalced;
	}
	if (outputId !=3D null) {
		 var outnode =3D document.getElementById(outputId);
		 var n =3D outnode.childNodes.length;
		 for (var i=3D0; i<n; i++) {
		    outnode.removeChild(outnode.firstChild);
		 }
		 outnode.appendChild(document.createTextNode(outstr));
		 if (!noMathRender) {
			  AMprocessNode(outnode);
		 }
	}
	 return outcalced;
}

function matrixcalc(inputId,outputId,rows,cols) {
=09
	function calced(estr) {
		err=3D'';
		try {
			with (Math) var res =3D eval(mathjs(estr));
		} catch(e) {
			err =3D "syntax incomplete";
		}
		if (!isNaN(res) && res!=3D"Infinity")=20
			estr =3D (Math.abs(res)<1e-15?0:res)+err;=20
		else if (estr!=3D"") estr =3D "undefined";
		return estr;
	}
	if (rows!=3Dnull && cols!=3Dnull) {
		var count=3D0;
		var str =3D "[";
		var calcstr =3D "[";
		for (var row=3D0; row < rows; row++) {
			if (row>0) { str +=3D ","; calcstr +=3D ","}
			str +=3D "(";
			calcstr +=3D "(";
			for (var col=3D0; col<cols; col++) {
				if (col>0) {str +=3D ","; calcstr +=3D ",";}
				str +=3D document.getElementById(inputId+'-'+count).value;
				calcstr +=3D =
calced(document.getElementById(inputId+'-'+count).value);
				count++;
			}
			str +=3D ")";
			calcstr +=3D ")";
		}
		str +=3D "]";
		calcstr +=3D "]";
	} else {
		var str =3D document.getElementById(inputId).value;
		var calcstr =3D str;
		var MCdepth =3D 0;
		calcstr =3D calcstr.replace('[','(');
		calcstr =3D calcstr.replace(']',')');
		calcstr =3D calcstr.replace(/\s+/g,'');
		var calclist =3D new Array();
		calcstr =3D calcstr.substring(1,calcstr.length-1);
		var lastcut =3D 0;
		for (var i=3D0; i<calcstr.length; i++) {
			if (calcstr.charAt(i)=3D=3D'(') {
				MCdepth++;
			} else if (calcstr.charAt(i)=3D=3D')') {
				MCdepth--;
			} else if (calcstr.charAt(i)=3D=3D',' && MCdepth=3D=3D0) {
				calclist[calclist.length] =3D calcstr.substring(lastcut+1,i-1);
				lastcut =3D i+1;
			}
		}
		calclist[calclist.length] =3D =
calcstr.substring(lastcut+1,calcstr.length-1);
		for (var i=3D0; i<calclist.length; i++) {
			calclist2 =3D calclist[i].split(',');
			for (var j=3D0; j<calclist2.length; j++) {
				calclist2[j] =3D calced(calclist2[j]);
			}
			calclist[i] =3D calclist2.join(',');
		}
		calcstr =3D '[('+calclist.join('),(')+')]';
	}
	//calcstr =3D calcstr.replace(/([^\[\(\)\],]+)/g, calced);
	str =3D "`"+str+"` =3D `"+calcstr+"`";
=09
	if (outputId !=3D null) {
		var outnode =3D document.getElementById(outputId);
		var n =3D outnode.childNodes.length;
		for (var i=3D0; i<n; i++)
			outnode.removeChild(outnode.firstChild);
		outnode.appendChild(document.createTextNode(str));
		if (!noMathRender) {
			AMprocessNode(outnode);
		}
	}
	return calcstr;
}

function mathjsformat(inputId,outputId) {
  var str =3D document.getElementById(inputId).value;
  var outnode =3D document.getElementById(outputId);
  outnode.value =3D mathjs(str);
}

//preview button for numfunc type
function AMpreview(inputId,outputId) {
  var qn =3D inputId.slice(2);
  var vl =3D vlist[qn];
  var fl =3D flist[qn];
  vars =3D vl.split("|");
 =20
  var str =3D document.getElementById(inputId).value;
  var dispstr =3D str;
  //quote out multiletter variables
  var varstoquote =3D new Array();
  for (var i=3D0; i<vars.length; i++) {
	  if (vars[i].length>1) {
		  var isgreek =3D false;
		  for (var j=3D0; j<greekletters.length;j++) {
			  if (vars[i]=3D=3Dgreekletters[j]) {
				isgreek =3D true;=20
				break;
			  }
		  }
		  if (!isgreek) {
			  varstoquote.push(vars[i]);
		  }
	  }
  }
  if (varstoquote.length>0) {
	  vltq =3D varstoquote.join("|");
	  var reg =3D new RegExp("("+vltq+")","g");
	  dispstr =3D str.replace(reg,"\"$1\"");
  }
 =20
  var outnode =3D document.getElementById(outputId);
  var n =3D outnode.childNodes.length;
  for (var i=3D0; i<n; i++)
    outnode.removeChild(outnode.firstChild);
    outnode.appendChild(document.createTextNode('`'+dispstr+'`'));
    if (!noMathRender) {
	AMprocessNode(outnode);
    }
  //outnode.appendChild(AMparseMath(dispstr));
 =20
  //the following does a quick syntax check of the formula
 =20
 =20
  ptlist =3D pts[qn].split(",");
  var tstpt =3D 0; res =3D NaN;
  if (iseqn[qn]=3D=3D1) {
	str =3D str.replace(/(.*)=3D(.*)/,"$1-($2)");
  }
  if (fl!=3D'') {
	  reg =3D new RegExp("("+fl+")\\(","g");
	  str =3D str.replace(reg,"$1*sin($1+");
	  vl =3D vl+'|'+fl;
  }
  vars =3D vl.split('|');
  var totesteqn =3D mathjs(str,vl);
 =20
  while (tstpt<ptlist.length && (isNaN(res) || res=3D=3D"Infinity")) {
	  var totest =3D '';
	  testvals =3D ptlist[tstpt].split("~");
	  for (var j=3D0; j<vars.length; j++) {
		totest +=3D vars[j] + "=3D"+testvals[j]+";";=20
	  }
	  totest +=3D totesteqn;

	  var err=3D"syntax ok";
	  try {
	    with (Math) var res =3D eval(totest);
	  } catch(e) {
	    err =3D "syntax error";
	  }
	  tstpt++;
  }

  if (isNaN(res) || res=3D=3D"Infinity") {
	  trg =3D str.match(/(sin|cos|tan|sec|csc|cot)\^/);
	  reg =3D new =
RegExp("(sqrt|ln|log|sin|cos|tan|sec|csc|cot|abs)("+vl+"|\\d)");
	  errstuff =3D str.match(reg)
	  if (trg!=3Dnull) {
		  trg =3D trg[1];
		  err =3D "syntax error: use ("+trg+"(x))^2 instead of "+trg+"^2(x)";
	  } else if (errstuff!=3Dnull) { =20
		  err +=3D ": use "+errstuff[1]+"("+errstuff[2]+"), not "+errstuff[0];
	  } else {
		  var Pdepth =3D 0; var Bdepth =3D 0;
		  for (var i=3D0; i<str.length; i++) {
			if (str.charAt(i)=3D=3D'(') {
				Pdepth++;
			} else if (str.charAt(i)=3D=3D')') {
				Pdepth--;
			} else if (str.charAt(i)=3D=3D'[') {
				Bdepth++;
			} else if (str.charAt(i)=3D=3D']') {
				Bdepth--;
			}
		  }
		  if (Pdepth!=3D0 || Bdepth!=3D0) {
			  err +=3D ": unmatched parens";
		  } else {
			 //catch (cos)(x)
			reg =3D new RegExp("(sqrt|ln|log|sin|cos|tan|sec|csc|cot|abs)[^\(]");
			errstuff =3D str.match(reg);
			if (errstuff!=3Dnull) {
				err =3D "syntax error: use function notation - "+errstuff[1]+"(x)";
			} else {
				err =3D "syntax error";
			}
		  }
		  //err =3D "syntax error";
	  }
  } else {
	 =20
	reg =3D new =
RegExp("(sqrt|ln|log|sin|cos|tan|sec|csc|cot|abs)\\s*("+vl+")");
	errstuff =3D str.match(reg);
	if (errstuff!=3Dnull) {
		err +=3D ": warning: use "+errstuff[1]+"("+errstuff[2]+") rather than =
"+errstuff[0];
	}
  }
  outnode.appendChild(document.createTextNode(" " + err));
  //clear out variables that have been defined
  var toclear =3D '';=20
  for (var j=3D0; j<vl.length; j++) {
	toclear +=3D vars[j] + "=3DNaN;";=20
  }
  eval(toclear);
}

//preview for matrix type
function AMmathpreview(inputId,outputId) {
 =20
  var str =3D document.getElementById(inputId).value;

  var outnode =3D document.getElementById(outputId);
  var n =3D outnode.childNodes.length;
  for (var i=3D0; i<n; i++)
    outnode.removeChild(outnode.firstChild);
  //outnode.appendChild(AMparseMath(str));
   outnode.appendChild(document.createTextNode('`'+str+'`'));
    if (!noMathRender) {
	AMprocessNode(outnode);
    }
=20
}

var greekletters =3D =
['alpha','beta','delta','gamma','phi','psi','sigma','rho','theta'];
var calctoproc =3D new Array();
var intcalctoproc =3D new Array();
var calcformat =3D new Array();
var functoproc =3D new Array();
var matcalctoproc =3D new Array();
var ntupletoproc =3D new Array();
var matsize =3D new Array();
var vlist =3D new Array();
var flist =3D new Array();
var pts =3D new Array();
var iseqn =3D new Array();

function doonsubmit(form,type2,skipconfirm) {
	if (form!=3Dnull) {
		if (!skipconfirm) {
			if (type2) {
				var reallysubmit =3D confirmSubmit2(form);
			} else {
				var reallysubmit =3D confirmSubmit(form);
			}
			if (!reallysubmit) {
				return false;
			}
		}
	}
	for (var i=3D0; i<intcalctoproc.length; i++) {
		var nh =3D document.createElement("INPUT");
		nh.type =3D "hidden";
		nh.name =3D "qn" + intcalctoproc[i];
		fullstr =3D document.getElementById("tc"+intcalctoproc[i]).value;
		fullstr =3D fullstr.replace(/\s+/g,'');
		if (fullstr.match(/DNE/i)) {
			  fullstr =3D fullstr.toUpperCase();
		  } else {
			  strarr =3D fullstr.split(/U/);
			  for (k=3D0; k<strarr.length; k++) {
				  str =3D strarr[k];
				  if (str.length>0 && str.match(/,/)) {
					  sm =3D str.charAt(0);
					  em =3D str.charAt(str.length-1);
					  vals =3D str.substring(1,str.length-1);
					  vals =3D vals.split(/,/);
					  for (j=3D0; j<2; j++) {	 =20
						  if (!vals[j].match(/oo$/) && !vals[j].match(/oo\W/)) =
{//(!vals[j].match(/oo/)) {
							  var err =3D "";
							 =20
							  try {
							    with (Math) var res =3D eval(mathjs(vals[j]));
							  } catch(e) {
							    err =3D "syntax incomplete";
							  }
							  if (!isNaN(res) && res!=3D"Infinity") {
									  vals[j] =3D (Math.abs(res)<1e-15?0:res)+err;
							  } =09
						  }
					  }
					  strarr[k] =3D sm + vals[0] + ',' + vals[1] + em;
				  }
			 }
		  }
		  nh.value =3D strarr.join('U');
		  outn =3D document.getElementById("p"+intcalctoproc[i]);
		  outn.appendChild(nh);
	}
	for (var i=3D0; i<calctoproc.length; i++) {
		var nh =3D document.createElement("INPUT");
		nh.type =3D "hidden";
		nh.name =3D "qn" + calctoproc[i];
		str =3D document.getElementById("tc"+calctoproc[i]).value;
		if (calcformat[calctoproc[i]].indexOf('list')!=3D-1) {
			strarr =3D str.split(/,/);
		} else {
			var strarr =3D new Array();
			strarr[0] =3D str;
		}
		for (var sc=3D0;sc<strarr.length;sc++) {
			str =3D strarr[sc];
		=09
			str =3D str.replace(/,/g,"");
			str =3D str.replace(/(\d+)\s*_\s*(\d+\s*\/\s*\d+)/,"($1+$2)");
			if (str.match(/^\s*$/)) {
				var res =3D '';
			} else if (str.match(/oo$/) || str.match(/oo\W/)) {
				var res =3D str;
			} else if (str.match(/DNE/i)) {
				var res =3D str.toUpperCase();
			} else {
				try {
					with (Math) var res =3D eval(mathjs(str));
				} catch(e) {
					err =3D "syntax incomplete";
				}
			}
			strarr[sc] =3D res;
		}
		nh.value =3D strarr.join(',');
		outn =3D document.getElementById("p"+calctoproc[i]);
		outn.appendChild(nh);
	}
	for (var i=3D0; i<matcalctoproc.length; i++) {
		var nh =3D document.createElement("INPUT");
		nh.type =3D "hidden";
		nh.name =3D "qn" + matcalctoproc[i];
		if (matsize[matcalctoproc[i]]!=3D null) {
			msize =3D matsize[matcalctoproc[i]].split(",");
			str =3D matrixcalc("qn"+matcalctoproc[i],null,msize[0],msize[1]);
		} else {
			str =3D matrixcalc("tc"+matcalctoproc[i],null);
		}
		nh.value =3D str;
		outn =3D document.getElementById("p"+matcalctoproc[i]);
		outn.appendChild(nh);
	}
	for (var i=3D0; i<ntupletoproc.length; i++) {
		var nh =3D document.createElement("INPUT");
		nh.type =3D "hidden";
		nh.name =3D "qn" + ntupletoproc[i];
		str =3D ntuplecalc("tc"+ntupletoproc[i],null);
		nh.value =3D str;
		outn =3D document.getElementById("p"+ntupletoproc[i]);
		outn.appendChild(nh);
	}
	for (var i=3D0; i<functoproc.length; i++) {
		var nh =3D document.createElement("INPUT");
		nh.type =3D "hidden";
		nh.name =3D "qn" + functoproc[i];
		str =3D document.getElementById("tc"+functoproc[i]).value;
		if (iseqn[functoproc[i]]=3D=3D1) {
			str =3D str.replace(/(.*)=3D(.*)/,"$1-($2)");
		}
		fl =3D flist[functoproc[i]];
		varlist =3D vlist[functoproc[i]];
		if (fl!=3D'') {
			reg =3D new RegExp("("+fl+")\\(","g");
			str =3D str.replace(reg,"$1*sin($1+");
			varlist =3D varlist+'|'+fl;
		}
		vars =3D varlist.split("|");
		nh.value =3D mathjs(str,varlist);

		outn =3D document.getElementById("p"+functoproc[i]);
		outn.appendChild(nh);
	=09
		ptlist =3D pts[functoproc[i]].split(",");
		vals=3D new Array();
		for (var j=3D0; j<ptlist.length;j++) { //for each set of inputs
			inputs =3D ptlist[j].split("~");
			totest =3D '';
			for (var k=3D0; k<inputs.length; k++) {
				//totest +=3D varlist.charAt(k) + "=3D" + inputs[k] + ";";
				totest +=3D vars[k] + "=3D" + inputs[k] + ";";
			}
			totest +=3D nh.value;
			try {
				with (Math) vals[j] =3D eval(totest);
			} catch (e) {
				vals[j] =3D NaN;
			}=09
		}
		var nh2 =3D document.createElement("input");
		nh2.type =3D "hidden";
		nh2.name =3D "qn" + functoproc[i] + "-vals";
		nh2.value =3D vals.join(",");
		outn.appendChild(nh2);
	=09
	}
	return true;
}

------=_NextPart_000_0000_01CCCC6C.E76A4F20
Content-Type: application/octet-stream
Content-Transfer-Encoding: quoted-printable
Content-Location: http://os.zju.edu.cn/exercise/javascript/confirmsubmit.js

//Modified from version by By Martin Honnen
//taken from =
http://www.faqts.com/knowledge_base/view.phtml/aid/1756/fid/129
function checkComplete (form) {
	if (!form.elements) { return true;} //temp fix for editor preventing =
this from working right
  for (var e =3D 0; e < form.elements.length; e++) {
    var el =3D form.elements[e];
    if (typeof el.type =3D=3D "undefined") {
	    continue;
    }
    if (el.type =3D=3D 'text' || el.type =3D=3D 'textarea' ||
        el.type =3D=3D 'password' || el.type =3D=3D 'file' ) {
      if (el.value =3D=3D '') {
        return false;
      }
    }
    else if (el.type.indexOf('select') !=3D -1) {
      if (el.selectedIndex =3D=3D -1) {
        return false;
      }
    }
    else if (el.type =3D=3D 'radio') {
      var group =3D form[el.name];
      var checked =3D false;
      if (!group.length)
        checked =3D el.checked;
      else
        for (var r =3D 0; r < group.length; r++)
          if ((checked =3D group[r].checked))
            break;
      if (!checked) {
        return false;
      }
    }
  }
  return true;
}

function confirmSubmit (form) {
	var allans =3D checkComplete(form);
	if (!allans) {
		var msg =3D "Not all question parts have been answered.  Are you sure =
you want to submit this question?";
		return confirm(msg);
	} else {
		return true;
	}
}
function confirmSubmit2 (form) {
	var allans =3D checkComplete(form);
	if (!allans) {
		var msg =3D "Not all questions have been answered completely.  If you =
are saving your answers for later, this is fine.  If you are submitting =
for grading, are you sure you want to submit now?";
		return confirm(msg);
	} else {
		return true;
	}
}

------=_NextPart_000_0000_01CCCC6C.E76A4F20
Content-Type: application/octet-stream
Content-Transfer-Encoding: quoted-printable
Content-Location: http://os.zju.edu.cn/exercise/javascript/excanvas.js

// Copyright 2006 Google Inc.=0A=
//=0A=
// Licensed under the Apache License, Version 2.0 (the "License");=0A=
// you may not use this file except in compliance with the License.=0A=
// You may obtain a copy of the License at=0A=
//=0A=
//   http://www.apache.org/licenses/LICENSE-2.0=0A=
//=0A=
// Unless required by applicable law or agreed to in writing, software=0A=
// distributed under the License is distributed on an "AS IS" BASIS,=0A=
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or =
implied.=0A=
// See the License for the specific language governing permissions and=0A=
// limitations under the License.=0A=
=0A=
=0A=
// Known Issues:=0A=
//=0A=
// * Patterns are not implemented.=0A=
// * Radial gradient are not implemented. The VML version of these look =
very=0A=
//   different from the canvas one.=0A=
// * Clipping paths are not implemented.=0A=
// * Coordsize. The width and height attribute have higher priority than =
the=0A=
//   width and height style values which isn't correct.=0A=
// * Painting mode isn't implemented.=0A=
// * Canvas width/height should is using content-box by default. IE in=0A=
//   Quirks mode will draw the canvas using border-box. Either change =
your=0A=
//   doctype to HTML5=0A=
//   (http://www.whatwg.org/specs/web-apps/current-work/#the-doctype)=0A=
//   or use Box Sizing Behavior from WebFX=0A=
//   (http://webfx.eae.net/dhtml/boxsizing/boxsizing.html)=0A=
// * Optimize. There is always room for speed improvements.=0A=
=0A=
// only add this code if we do not already have a canvas implementation=0A=
if (!window.CanvasRenderingContext2D) {=0A=
=0A=
(function () {=0A=
=0A=
  // alias some functions to make (compiled) code shorter=0A=
  var m =3D Math;=0A=
  var mr =3D m.round;=0A=
  var ms =3D m.sin;=0A=
  var mc =3D m.cos;=0A=
=0A=
  // this is used for sub pixel precision=0A=
  var Z =3D 10;=0A=
  var Z2 =3D Z / 2;=0A=
=0A=
  var G_vmlCanvasManager_ =3D {=0A=
    init: function (opt_doc) {=0A=
      var doc =3D opt_doc || document;=0A=
      if (/MSIE/.test(navigator.userAgent) && !window.opera) {=0A=
        var self =3D this;=0A=
        doc.attachEvent("onreadystatechange", function () {=0A=
          self.init_(doc);=0A=
        });=0A=
      }=0A=
    },=0A=
=0A=
    init_: function (doc) {=0A=
      if (doc.readyState =3D=3D "complete") {=0A=
        // create xmlns=0A=
        if (!doc.namespaces["g_vml_"]) {=0A=
          doc.namespaces.add("g_vml_", "urn:schemas-microsoft-com:vml");=0A=
        }=0A=
=0A=
        // setup default css=0A=
        var ss =3D doc.createStyleSheet();=0A=
        ss.cssText =3D "canvas{display:inline-block;overflow:hidden;" +=0A=
            // default size is 300x150 in Gecko and Opera=0A=
            "text-align:left;width:300px;height:150px}" +=0A=
            "g_vml_\\:*{behavior:url(#default#VML)}";=0A=
=0A=
        // find all canvas elements=0A=
        var els =3D doc.getElementsByTagName("canvas");=0A=
        for (var i =3D 0; i < els.length; i++) {=0A=
          if (!els[i].getContext) {=0A=
            this.initElement(els[i]);=0A=
          }=0A=
        }=0A=
      }=0A=
    },=0A=
=0A=
    fixElement_: function (el) {=0A=
      // in IE before version 5.5 we would need to add HTML: to the tag =
name=0A=
      // but we do not care about IE before version 6=0A=
      var outerHTML =3D el.outerHTML;=0A=
=0A=
      var newEl =3D el.ownerDocument.createElement(outerHTML);=0A=
      // if the tag is still open IE has created the children as =
siblings and=0A=
      // it has also created a tag with the name "/FOO"=0A=
      if (outerHTML.slice(-2) !=3D "/>") {=0A=
        var tagName =3D "/" + el.tagName;=0A=
        var ns;=0A=
        // remove content=0A=
        while ((ns =3D el.nextSibling) && ns.tagName !=3D tagName) {=0A=
          ns.removeNode();=0A=
        }=0A=
        // remove the incorrect closing tag=0A=
        if (ns) {=0A=
          ns.removeNode();=0A=
        }=0A=
      }=0A=
      el.parentNode.replaceChild(newEl, el);=0A=
      return newEl;=0A=
    },=0A=
=0A=
    /**=0A=
     * Public initializes a canvas element so that it can be used as =
canvas=0A=
     * element from now on. This is called automatically before the page =
is=0A=
     * loaded but if you are creating elements using createElement you =
need to=0A=
     * make sure this is called on the element.=0A=
     * @param {HTMLElement} el The canvas element to initialize.=0A=
     * @return {HTMLElement} the element that was created.=0A=
     */=0A=
    initElement: function (el) {=0A=
      el =3D this.fixElement_(el);=0A=
      el.getContext =3D function () {=0A=
        if (this.context_) {=0A=
          return this.context_;=0A=
        }=0A=
        return this.context_ =3D new CanvasRenderingContext2D_(this);=0A=
      };=0A=
=0A=
      // do not use inline function because that will leak memory=0A=
      el.attachEvent('onpropertychange', onPropertyChange);=0A=
      el.attachEvent('onresize', onResize);=0A=
=0A=
      var attrs =3D el.attributes;=0A=
      if (attrs.width && attrs.width.specified) {=0A=
        // TODO: use runtimeStyle and coordsize=0A=
        // el.getContext().setWidth_(attrs.width.nodeValue);=0A=
        el.style.width =3D attrs.width.nodeValue + "px";=0A=
      } else {=0A=
        el.width =3D el.clientWidth;=0A=
      }=0A=
      if (attrs.height && attrs.height.specified) {=0A=
        // TODO: use runtimeStyle and coordsize=0A=
        // el.getContext().setHeight_(attrs.height.nodeValue);=0A=
        el.style.height =3D attrs.height.nodeValue + "px";=0A=
      } else {=0A=
        el.height =3D el.clientHeight;=0A=
      }=0A=
      //el.getContext().setCoordsize_()=0A=
      return el;=0A=
    }=0A=
  };=0A=
=0A=
  function onPropertyChange(e) {=0A=
    var el =3D e.srcElement;=0A=
=0A=
    switch (e.propertyName) {=0A=
      case 'width':=0A=
        el.style.width =3D el.attributes.width.nodeValue + "px";=0A=
        el.getContext().clearRect();=0A=
        break;=0A=
      case 'height':=0A=
        el.style.height =3D el.attributes.height.nodeValue + "px";=0A=
        el.getContext().clearRect();=0A=
        break;=0A=
    }=0A=
  }=0A=
=0A=
  function onResize(e) {=0A=
    var el =3D e.srcElement;=0A=
    if (el.firstChild) {=0A=
      el.firstChild.style.width =3D  el.clientWidth + 'px';=0A=
      el.firstChild.style.height =3D el.clientHeight + 'px';=0A=
    }=0A=
  }=0A=
=0A=
  G_vmlCanvasManager_.init();=0A=
=0A=
  // precompute "00" to "FF"=0A=
  var dec2hex =3D [];=0A=
  for (var i =3D 0; i < 16; i++) {=0A=
    for (var j =3D 0; j < 16; j++) {=0A=
      dec2hex[i * 16 + j] =3D i.toString(16) + j.toString(16);=0A=
    }=0A=
  }=0A=
=0A=
  function createMatrixIdentity() {=0A=
    return [=0A=
      [1, 0, 0],=0A=
      [0, 1, 0],=0A=
      [0, 0, 1]=0A=
    ];=0A=
  }=0A=
=0A=
  function matrixMultiply(m1, m2) {=0A=
    var result =3D createMatrixIdentity();=0A=
=0A=
    for (var x =3D 0; x < 3; x++) {=0A=
      for (var y =3D 0; y < 3; y++) {=0A=
        var sum =3D 0;=0A=
=0A=
        for (var z =3D 0; z < 3; z++) {=0A=
          sum +=3D m1[x][z] * m2[z][y];=0A=
        }=0A=
=0A=
        result[x][y] =3D sum;=0A=
      }=0A=
    }=0A=
    return result;=0A=
  }=0A=
=0A=
  function copyState(o1, o2) {=0A=
    o2.fillStyle     =3D o1.fillStyle;=0A=
    o2.lineCap       =3D o1.lineCap;=0A=
    o2.lineJoin      =3D o1.lineJoin;=0A=
    o2.lineWidth     =3D o1.lineWidth;=0A=
    o2.miterLimit    =3D o1.miterLimit;=0A=
    o2.shadowBlur    =3D o1.shadowBlur;=0A=
    o2.shadowColor   =3D o1.shadowColor;=0A=
    o2.shadowOffsetX =3D o1.shadowOffsetX;=0A=
    o2.shadowOffsetY =3D o1.shadowOffsetY;=0A=
    o2.strokeStyle   =3D o1.strokeStyle;=0A=
    o2.arcScaleX_    =3D o1.arcScaleX_;=0A=
    o2.arcScaleY_    =3D o1.arcScaleY_;=0A=
  }=0A=
=0A=
  function processStyle(styleString) {=0A=
    var str, alpha =3D 1;=0A=
=0A=
    styleString =3D String(styleString);=0A=
    if (styleString.substring(0, 3) =3D=3D "rgb") {=0A=
      var start =3D styleString.indexOf("(", 3);=0A=
      var end =3D styleString.indexOf(")", start + 1);=0A=
      var guts =3D styleString.substring(start + 1, end).split(",");=0A=
=0A=
      str =3D "#";=0A=
      for (var i =3D 0; i < 3; i++) {=0A=
        str +=3D dec2hex[Number(guts[i])];=0A=
      }=0A=
=0A=
      if ((guts.length =3D=3D 4) && (styleString.substr(3, 1) =3D=3D =
"a")) {=0A=
        alpha =3D guts[3];=0A=
      }=0A=
    } else {=0A=
      str =3D styleString;=0A=
    }=0A=
=0A=
    return [str, alpha];=0A=
  }=0A=
=0A=
  function processLineCap(lineCap) {=0A=
    switch (lineCap) {=0A=
      case "butt":=0A=
        return "flat";=0A=
      case "round":=0A=
        return "round";=0A=
      case "square":=0A=
      default:=0A=
        return "square";=0A=
    }=0A=
  }=0A=
=0A=
  /**=0A=
   * This class implements CanvasRenderingContext2D interface as =
described by=0A=
   * the WHATWG.=0A=
   * @param {HTMLElement} surfaceElement The element that the 2D context =
should=0A=
   * be associated with=0A=
   */=0A=
   function CanvasRenderingContext2D_(surfaceElement) {=0A=
    this.m_ =3D createMatrixIdentity();=0A=
=0A=
    this.mStack_ =3D [];=0A=
    this.aStack_ =3D [];=0A=
    this.currentPath_ =3D [];=0A=
=0A=
    // Canvas context properties=0A=
    this.strokeStyle =3D "#000";=0A=
    this.fillStyle =3D "#000";=0A=
=0A=
    this.lineWidth =3D 1;=0A=
    this.lineJoin =3D "miter";=0A=
    this.lineCap =3D "butt";=0A=
    this.miterLimit =3D Z * 1;=0A=
    this.globalAlpha =3D 1;=0A=
    this.canvas =3D surfaceElement;=0A=
=0A=
    var el =3D surfaceElement.ownerDocument.createElement('div');=0A=
    el.style.width =3D  surfaceElement.clientWidth + 'px';=0A=
    el.style.height =3D surfaceElement.clientHeight + 'px';=0A=
    el.style.overflow =3D 'hidden';=0A=
    el.style.position =3D 'absolute';=0A=
    surfaceElement.appendChild(el);=0A=
=0A=
    this.element_ =3D el;=0A=
    this.arcScaleX_ =3D 1;=0A=
    this.arcScaleY_ =3D 1;=0A=
  };=0A=
=0A=
  var contextPrototype =3D CanvasRenderingContext2D_.prototype;=0A=
  contextPrototype.clearRect =3D function() {=0A=
    this.element_.innerHTML =3D "";=0A=
    this.currentPath_ =3D [];=0A=
  };=0A=
=0A=
  contextPrototype.beginPath =3D function() {=0A=
    // TODO: Branch current matrix so that save/restore has no effect=0A=
    //       as per safari docs.=0A=
=0A=
    this.currentPath_ =3D [];=0A=
  };=0A=
=0A=
  contextPrototype.moveTo =3D function(aX, aY) {=0A=
    this.currentPath_.push({type: "moveTo", x: aX, y: aY});=0A=
    this.currentX_ =3D aX;=0A=
    this.currentY_ =3D aY;=0A=
  };=0A=
=0A=
  contextPrototype.lineTo =3D function(aX, aY) {=0A=
    this.currentPath_.push({type: "lineTo", x: aX, y: aY});=0A=
    this.currentX_ =3D aX;=0A=
    this.currentY_ =3D aY;=0A=
  };=0A=
=0A=
  contextPrototype.bezierCurveTo =3D function(aCP1x, aCP1y,=0A=
                                            aCP2x, aCP2y,=0A=
                                            aX, aY) {=0A=
    this.currentPath_.push({type: "bezierCurveTo",=0A=
                           cp1x: aCP1x,=0A=
                           cp1y: aCP1y,=0A=
                           cp2x: aCP2x,=0A=
                           cp2y: aCP2y,=0A=
                           x: aX,=0A=
                           y: aY});=0A=
    this.currentX_ =3D aX;=0A=
    this.currentY_ =3D aY;=0A=
  };=0A=
=0A=
  contextPrototype.quadraticCurveTo =3D function(aCPx, aCPy, aX, aY) {=0A=
    // the following is lifted almost directly from=0A=
    // =
http://developer.mozilla.org/en/docs/Canvas_tutorial:Drawing_shapes=0A=
    var cp1x =3D this.currentX_ + 2.0 / 3.0 * (aCPx - this.currentX_);=0A=
    var cp1y =3D this.currentY_ + 2.0 / 3.0 * (aCPy - this.currentY_);=0A=
    var cp2x =3D cp1x + (aX - this.currentX_) / 3.0;=0A=
    var cp2y =3D cp1y + (aY - this.currentY_) / 3.0;=0A=
    this.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, aX, aY);=0A=
  };=0A=
=0A=
  contextPrototype.arc =3D function(aX, aY, aRadius,=0A=
                                  aStartAngle, aEndAngle, aClockwise) {=0A=
    aRadius *=3D Z;=0A=
    var arcType =3D aClockwise ? "at" : "wa";=0A=
=0A=
    var xStart =3D aX + (mc(aStartAngle) * aRadius) - Z2;=0A=
    var yStart =3D aY + (ms(aStartAngle) * aRadius) - Z2;=0A=
=0A=
    var xEnd =3D aX + (mc(aEndAngle) * aRadius) - Z2;=0A=
    var yEnd =3D aY + (ms(aEndAngle) * aRadius) - Z2;=0A=
=0A=
    // IE won't render arches drawn counter clockwise if xStart =3D=3D =
xEnd.=0A=
    if (xStart =3D=3D xEnd && !aClockwise) {=0A=
      xStart +=3D 0.125; // Offset xStart by 1/80 of a pixel. Use =
something=0A=
                       // that can be represented in binary=0A=
    }=0A=
=0A=
    this.currentPath_.push({type: arcType,=0A=
                           x: aX,=0A=
                           y: aY,=0A=
                           radius: aRadius,=0A=
                           xStart: xStart,=0A=
                           yStart: yStart,=0A=
                           xEnd: xEnd,=0A=
                           yEnd: yEnd});=0A=
=0A=
  };=0A=
=0A=
  contextPrototype.rect =3D function(aX, aY, aWidth, aHeight) {=0A=
    this.moveTo(aX, aY);=0A=
    this.lineTo(aX + aWidth, aY);=0A=
    this.lineTo(aX + aWidth, aY + aHeight);=0A=
    this.lineTo(aX, aY + aHeight);=0A=
    this.closePath();=0A=
  };=0A=
=0A=
  contextPrototype.strokeRect =3D function(aX, aY, aWidth, aHeight) {=0A=
    // Will destroy any existing path (same as FF behaviour)=0A=
    this.beginPath();=0A=
    this.moveTo(aX, aY);=0A=
    this.lineTo(aX + aWidth, aY);=0A=
    this.lineTo(aX + aWidth, aY + aHeight);=0A=
    this.lineTo(aX, aY + aHeight);=0A=
    this.closePath();=0A=
    this.stroke();=0A=
  };=0A=
=0A=
  contextPrototype.fillRect =3D function(aX, aY, aWidth, aHeight) {=0A=
    // Will destroy any existing path (same as FF behaviour)=0A=
    this.beginPath();=0A=
    this.moveTo(aX, aY);=0A=
    this.lineTo(aX + aWidth, aY);=0A=
    this.lineTo(aX + aWidth, aY + aHeight);=0A=
    this.lineTo(aX, aY + aHeight);=0A=
    this.closePath();=0A=
    this.fill();=0A=
  };=0A=
=0A=
  contextPrototype.createLinearGradient =3D function(aX0, aY0, aX1, aY1) =
{=0A=
    var gradient =3D new CanvasGradient_("gradient");=0A=
    return gradient;=0A=
  };=0A=
=0A=
  contextPrototype.createRadialGradient =3D function(aX0, aY0,=0A=
                                                   aR0, aX1,=0A=
                                                   aY1, aR1) {=0A=
    var gradient =3D new CanvasGradient_("gradientradial");=0A=
    gradient.radius1_ =3D aR0;=0A=
    gradient.radius2_ =3D aR1;=0A=
    gradient.focus_.x =3D aX0;=0A=
    gradient.focus_.y =3D aY0;=0A=
    return gradient;=0A=
  };=0A=
=0A=
  contextPrototype.drawImage =3D function (image, var_args) {=0A=
    var dx, dy, dw, dh, sx, sy, sw, sh;=0A=
=0A=
    // to find the original width we overide the width and height=0A=
    var oldRuntimeWidth =3D image.runtimeStyle.width;=0A=
    var oldRuntimeHeight =3D image.runtimeStyle.height;=0A=
    image.runtimeStyle.width =3D 'auto';=0A=
    image.runtimeStyle.height =3D 'auto';=0A=
=0A=
    // get the original size=0A=
    var w =3D image.width;=0A=
    var h =3D image.height;=0A=
=0A=
    // and remove overides=0A=
    image.runtimeStyle.width =3D oldRuntimeWidth;=0A=
    image.runtimeStyle.height =3D oldRuntimeHeight;=0A=
=0A=
    if (arguments.length =3D=3D 3) {=0A=
      dx =3D arguments[1];=0A=
      dy =3D arguments[2];=0A=
      sx =3D sy =3D 0;=0A=
      sw =3D dw =3D w;=0A=
      sh =3D dh =3D h;=0A=
    } else if (arguments.length =3D=3D 5) {=0A=
      dx =3D arguments[1];=0A=
      dy =3D arguments[2];=0A=
      dw =3D arguments[3];=0A=
      dh =3D arguments[4];=0A=
      sx =3D sy =3D 0;=0A=
      sw =3D w;=0A=
      sh =3D h;=0A=
    } else if (arguments.length =3D=3D 9) {=0A=
      sx =3D arguments[1];=0A=
      sy =3D arguments[2];=0A=
      sw =3D arguments[3];=0A=
      sh =3D arguments[4];=0A=
      dx =3D arguments[5];=0A=
      dy =3D arguments[6];=0A=
      dw =3D arguments[7];=0A=
      dh =3D arguments[8];=0A=
    } else {=0A=
      throw "Invalid number of arguments";=0A=
    }=0A=
=0A=
    var d =3D this.getCoords_(dx, dy);=0A=
=0A=
    var w2 =3D sw / 2;=0A=
    var h2 =3D sh / 2;=0A=
=0A=
    var vmlStr =3D [];=0A=
=0A=
    var W =3D 10;=0A=
    var H =3D 10;=0A=
=0A=
    // For some reason that I've now forgotten, using divs didn't work=0A=
    vmlStr.push(' <g_vml_:group',=0A=
                ' coordsize=3D"', Z * W, ',', Z * H, '"',=0A=
                ' coordorigin=3D"0,0"' ,=0A=
                ' style=3D"width:', W, ';height:', H, =
';position:absolute;');=0A=
=0A=
    // If filters are necessary (rotation exists), create them=0A=
    // filters are bog-slow, so only create them if abbsolutely necessary=0A=
    // The following check doesn't account for skews (which don't exist=0A=
    // in the canvas spec (yet) anyway.=0A=
=0A=
    if (this.m_[0][0] !=3D 1 || this.m_[0][1]) {=0A=
      var filter =3D [];=0A=
=0A=
      // Note the 12/21 reversal=0A=
      filter.push("M11=3D'", this.m_[0][0], "',",=0A=
                  "M12=3D'", this.m_[1][0], "',",=0A=
                  "M21=3D'", this.m_[0][1], "',",=0A=
                  "M22=3D'", this.m_[1][1], "',",=0A=
                  "Dx=3D'", mr(d.x / Z), "',",=0A=
                  "Dy=3D'", mr(d.y / Z), "'");=0A=
=0A=
      // Bounding box calculation (need to minimize displayed area so =
that=0A=
      // filters don't waste time on unused pixels.=0A=
      var max =3D d;=0A=
      var c2 =3D this.getCoords_(dx + dw, dy);=0A=
      var c3 =3D this.getCoords_(dx, dy + dh);=0A=
      var c4 =3D this.getCoords_(dx + dw, dy + dh);=0A=
=0A=
      max.x =3D Math.max(max.x, c2.x, c3.x, c4.x);=0A=
      max.y =3D Math.max(max.y, c2.y, c3.y, c4.y);=0A=
=0A=
      vmlStr.push("padding:0 ", mr(max.x / Z), "px ", mr(max.y / Z),=0A=
                  "px =
0;filter:progid:DXImageTransform.Microsoft.Matrix(",=0A=
                  filter.join(""), ", sizingmethod=3D'clip');")=0A=
    } else {=0A=
      vmlStr.push("top:", mr(d.y / Z), "px;left:", mr(d.x / Z), "px;")=0A=
    }=0A=
=0A=
    vmlStr.push(' ">' ,=0A=
                '<g_vml_:image src=3D"', image.src, '"',=0A=
                ' style=3D"width:', Z * dw, ';',=0A=
                ' height:', Z * dh, ';"',=0A=
                ' cropleft=3D"', sx / w, '"',=0A=
                ' croptop=3D"', sy / h, '"',=0A=
                ' cropright=3D"', (w - sx - sw) / w, '"',=0A=
                ' cropbottom=3D"', (h - sy - sh) / h, '"',=0A=
                ' />',=0A=
                '</g_vml_:group>');=0A=
=0A=
    this.element_.insertAdjacentHTML("BeforeEnd",=0A=
                                    vmlStr.join(""));=0A=
  };=0A=
=0A=
  contextPrototype.stroke =3D function(aFill) {=0A=
    var lineStr =3D [];=0A=
    var lineOpen =3D false;=0A=
    var a =3D processStyle(aFill ? this.fillStyle : this.strokeStyle);=0A=
    var color =3D a[0];=0A=
    var opacity =3D a[1] * this.globalAlpha;=0A=
=0A=
    var W =3D 10;=0A=
    var H =3D 10;=0A=
=0A=
    lineStr.push('<g_vml_:shape',=0A=
                 ' fillcolor=3D"', color, '"',=0A=
                 ' filled=3D"', Boolean(aFill), '"',=0A=
                 ' style=3D"position:absolute;width:', W, ';height:', H, =
';"',=0A=
                 ' coordorigin=3D"0 0" coordsize=3D"', Z * W, ' ', Z * =
H, '"',=0A=
                 ' stroked=3D"', !aFill, '"',=0A=
                 ' strokeweight=3D"', this.lineWidth, '"',=0A=
                 ' strokecolor=3D"', color, '"',=0A=
                 ' path=3D"');=0A=
=0A=
    var newSeq =3D false;=0A=
    var min =3D {x: null, y: null};=0A=
    var max =3D {x: null, y: null};=0A=
=0A=
    for (var i =3D 0; i < this.currentPath_.length; i++) {=0A=
      var p =3D this.currentPath_[i];=0A=
=0A=
      if (p.type =3D=3D "moveTo") {=0A=
        lineStr.push(" m ");=0A=
        var c =3D this.getCoords_(p.x, p.y);=0A=
        lineStr.push(mr(c.x), ",", mr(c.y));=0A=
      } else if (p.type =3D=3D "lineTo") {=0A=
        lineStr.push(" l ");=0A=
        var c =3D this.getCoords_(p.x, p.y);=0A=
        lineStr.push(mr(c.x), ",", mr(c.y));=0A=
      } else if (p.type =3D=3D "close") {=0A=
        lineStr.push(" x ");=0A=
      } else if (p.type =3D=3D "bezierCurveTo") {=0A=
        lineStr.push(" c ");=0A=
        var c =3D this.getCoords_(p.x, p.y);=0A=
        var c1 =3D this.getCoords_(p.cp1x, p.cp1y);=0A=
        var c2 =3D this.getCoords_(p.cp2x, p.cp2y);=0A=
        lineStr.push(mr(c1.x), ",", mr(c1.y), ",",=0A=
                     mr(c2.x), ",", mr(c2.y), ",",=0A=
                     mr(c.x), ",", mr(c.y));=0A=
      } else if (p.type =3D=3D "at" || p.type =3D=3D "wa") {=0A=
        lineStr.push(" ", p.type, " ");=0A=
        var c  =3D this.getCoords_(p.x, p.y);=0A=
        var cStart =3D this.getCoords_(p.xStart, p.yStart);=0A=
        var cEnd =3D this.getCoords_(p.xEnd, p.yEnd);=0A=
=0A=
        lineStr.push(mr(c.x - this.arcScaleX_ * p.radius), ",",=0A=
                     mr(c.y - this.arcScaleY_ * p.radius), " ",=0A=
                     mr(c.x + this.arcScaleX_ * p.radius), ",",=0A=
                     mr(c.y + this.arcScaleY_ * p.radius), " ",=0A=
                     mr(cStart.x), ",", mr(cStart.y), " ",=0A=
                     mr(cEnd.x), ",", mr(cEnd.y));=0A=
      }=0A=
=0A=
=0A=
      // TODO: Following is broken for curves due to=0A=
      //       move to proper paths.=0A=
=0A=
      // Figure out dimensions so we can do gradient fills=0A=
      // properly=0A=
      if(c) {=0A=
        if (min.x =3D=3D null || c.x < min.x) {=0A=
          min.x =3D c.x;=0A=
        }=0A=
        if (max.x =3D=3D null || c.x > max.x) {=0A=
          max.x =3D c.x;=0A=
        }=0A=
        if (min.y =3D=3D null || c.y < min.y) {=0A=
          min.y =3D c.y;=0A=
        }=0A=
        if (max.y =3D=3D null || c.y > max.y) {=0A=
          max.y =3D c.y;=0A=
        }=0A=
      }=0A=
    }=0A=
    lineStr.push(' ">');=0A=
=0A=
    if (typeof this.fillStyle =3D=3D "object") {=0A=
      var focus =3D {x: "50%", y: "50%"};=0A=
      var width =3D (max.x - min.x);=0A=
      var height =3D (max.y - min.y);=0A=
      var dimension =3D (width > height) ? width : height;=0A=
=0A=
      focus.x =3D mr((this.fillStyle.focus_.x / width) * 100 + 50) + "%";=0A=
      focus.y =3D mr((this.fillStyle.focus_.y / height) * 100 + 50) + =
"%";=0A=
=0A=
      var colors =3D [];=0A=
=0A=
      // inside radius (%)=0A=
      if (this.fillStyle.type_ =3D=3D "gradientradial") {=0A=
        var inside =3D (this.fillStyle.radius1_ / dimension * 100);=0A=
=0A=
        // percentage that outside radius exceeds inside radius=0A=
        var expansion =3D (this.fillStyle.radius2_ / dimension * 100) - =
inside;=0A=
      } else {=0A=
        var inside =3D 0;=0A=
        var expansion =3D 100;=0A=
      }=0A=
=0A=
      var insidecolor =3D {offset: null, color: null};=0A=
      var outsidecolor =3D {offset: null, color: null};=0A=
=0A=
      // We need to sort 'colors' by percentage, from 0 > 100 otherwise =
ie=0A=
      // won't interpret it correctly=0A=
      this.fillStyle.colors_.sort(function (cs1, cs2) {=0A=
        return cs1.offset - cs2.offset;=0A=
      });=0A=
=0A=
      for (var i =3D 0; i < this.fillStyle.colors_.length; i++) {=0A=
        var fs =3D this.fillStyle.colors_[i];=0A=
=0A=
        colors.push( (fs.offset * expansion) + inside, "% ", fs.color, =
",");=0A=
=0A=
        if (fs.offset > insidecolor.offset || insidecolor.offset =3D=3D =
null) {=0A=
          insidecolor.offset =3D fs.offset;=0A=
          insidecolor.color =3D fs.color;=0A=
        }=0A=
=0A=
        if (fs.offset < outsidecolor.offset || outsidecolor.offset =
=3D=3D null) {=0A=
          outsidecolor.offset =3D fs.offset;=0A=
          outsidecolor.color =3D fs.color;=0A=
        }=0A=
      }=0A=
      colors.pop();=0A=
=0A=
      lineStr.push('<g_vml_:fill',=0A=
                   ' color=3D"', outsidecolor.color, '"',=0A=
                   ' color2=3D"', insidecolor.color, '"',=0A=
                   ' type=3D"', this.fillStyle.type_, '"',=0A=
                   ' focusposition=3D"', focus.x, ', ', focus.y, '"',=0A=
                   ' colors=3D"', colors.join(""), '"',=0A=
                   ' opacity=3D"', opacity, '" />');=0A=
    } else if (aFill) {=0A=
      lineStr.push('<g_vml_:fill color=3D"', color, '" opacity=3D"', =
opacity, '" />');=0A=
    } else {=0A=
      lineStr.push(=0A=
        '<g_vml_:stroke',=0A=
        ' opacity=3D"', opacity,'"',=0A=
        ' joinstyle=3D"', this.lineJoin, '"',=0A=
        ' miterlimit=3D"', this.miterLimit, '"',=0A=
        ' endcap=3D"', processLineCap(this.lineCap) ,'"',=0A=
        ' weight=3D"', this.lineWidth, 'px"',=0A=
        ' color=3D"', color,'" />'=0A=
      );=0A=
    }=0A=
=0A=
    lineStr.push("</g_vml_:shape>");=0A=
=0A=
    this.element_.insertAdjacentHTML("beforeEnd", lineStr.join(""));=0A=
=0A=
    this.currentPath_ =3D [];=0A=
  };=0A=
=0A=
  contextPrototype.fill =3D function() {=0A=
    this.stroke(true);=0A=
  }=0A=
=0A=
  contextPrototype.closePath =3D function() {=0A=
    this.currentPath_.push({type: "close"});=0A=
  };=0A=
=0A=
  /**=0A=
   * @private=0A=
   */=0A=
  contextPrototype.getCoords_ =3D function(aX, aY) {=0A=
    return {=0A=
      x: Z * (aX * this.m_[0][0] + aY * this.m_[1][0] + this.m_[2][0]) - =
Z2,=0A=
      y: Z * (aX * this.m_[0][1] + aY * this.m_[1][1] + this.m_[2][1]) - =
Z2=0A=
    }=0A=
  };=0A=
=0A=
  contextPrototype.save =3D function() {=0A=
    var o =3D {};=0A=
    copyState(this, o);=0A=
    this.aStack_.push(o);=0A=
    this.mStack_.push(this.m_);=0A=
    this.m_ =3D matrixMultiply(createMatrixIdentity(), this.m_);=0A=
  };=0A=
=0A=
  contextPrototype.restore =3D function() {=0A=
    copyState(this.aStack_.pop(), this);=0A=
    this.m_ =3D this.mStack_.pop();=0A=
  };=0A=
=0A=
  contextPrototype.translate =3D function(aX, aY) {=0A=
    var m1 =3D [=0A=
      [1,  0,  0],=0A=
      [0,  1,  0],=0A=
      [aX, aY, 1]=0A=
    ];=0A=
=0A=
    this.m_ =3D matrixMultiply(m1, this.m_);=0A=
  };=0A=
=0A=
  contextPrototype.rotate =3D function(aRot) {=0A=
    var c =3D mc(aRot);=0A=
    var s =3D ms(aRot);=0A=
=0A=
    var m1 =3D [=0A=
      [c,  s, 0],=0A=
      [-s, c, 0],=0A=
      [0,  0, 1]=0A=
    ];=0A=
=0A=
    this.m_ =3D matrixMultiply(m1, this.m_);=0A=
  };=0A=
=0A=
  contextPrototype.scale =3D function(aX, aY) {=0A=
    this.arcScaleX_ *=3D aX;=0A=
    this.arcScaleY_ *=3D aY;=0A=
    var m1 =3D [=0A=
      [aX, 0,  0],=0A=
      [0,  aY, 0],=0A=
      [0,  0,  1]=0A=
    ];=0A=
=0A=
    this.m_ =3D matrixMultiply(m1, this.m_);=0A=
  };=0A=
=0A=
  /******** STUBS ********/=0A=
  contextPrototype.clip =3D function() {=0A=
    // TODO: Implement=0A=
  };=0A=
=0A=
  contextPrototype.arcTo =3D function() {=0A=
    // TODO: Implement=0A=
  };=0A=
=0A=
  contextPrototype.createPattern =3D function() {=0A=
    return new CanvasPattern_;=0A=
  };=0A=
=0A=
  // Gradient / Pattern Stubs=0A=
  function CanvasGradient_(aType) {=0A=
    this.type_ =3D aType;=0A=
    this.radius1_ =3D 0;=0A=
    this.radius2_ =3D 0;=0A=
    this.colors_ =3D [];=0A=
    this.focus_ =3D {x: 0, y: 0};=0A=
  }=0A=
=0A=
  CanvasGradient_.prototype.addColorStop =3D function(aOffset, aColor) {=0A=
    aColor =3D processStyle(aColor);=0A=
    this.colors_.push({offset: 1-aOffset, color: aColor});=0A=
  };=0A=
=0A=
  function CanvasPattern_() {}=0A=
=0A=
  // set up externs=0A=
  G_vmlCanvasManager =3D G_vmlCanvasManager_;=0A=
  CanvasRenderingContext2D =3D CanvasRenderingContext2D_;=0A=
  CanvasGradient =3D CanvasGradient_;=0A=
  CanvasPattern =3D CanvasPattern_;=0A=
=0A=
})();=0A=
=0A=
} // if=0A=

------=_NextPart_000_0000_01CCCC6C.E76A4F20
Content-Type: application/octet-stream
Content-Transfer-Encoding: quoted-printable
Content-Location: http://os.zju.edu.cn/exercise/javascript/drawing.js

var mouseisdown =3D false;
var targets =3D new Array();
var imgs =3D new Array();
var targetOuts =3D new Array();
var lines =3D new Array();
var dots =3D new Array();
var odots =3D new Array();
var canvases =3D new Array();
var drawla =3D new Array();
var curLine =3D null;
var dragObj =3D null;
var oldpointpos =3D null;
var curTarget =3D null;
var nocanvaswarning =3D false;

function clearcanvas(tarnum) {
	lines[tarnum].length =3D 0;
	dots[tarnum].length =3D 0;
	odots[tarnum].length =3D 0;
	curTarget =3D tarnum;
	drawTarget();
	curTarget =3D null;
	curLine =3D null;
	dragObj =3D null;
}

function =
addTarget(tarnum,target,imgpath,formel,xmin,xmax,ymin,ymax,imgborder,imgw=
idth,imgheight,defmode,dotline) {
	var tarel =3D document.getElementById(target);
	var tarpos =3D getPosition(tarel);
=09
	targets[tarnum] =3D {el: tarel, left: tarpos.x, top: tarpos.y, width: =
tarel.offsetWidth, height: tarel.offsetHeight, xmin: xmin, xmax: xmax, =
ymin: ymin, ymax: ymax, imgborder: imgborder, imgwidth: imgwidth, =
imgheight: imgheight, mode: defmode, dotline: dotline};
	targetOuts[tarnum] =3D document.getElementById(formel);
	if (lines[tarnum]=3D=3Dnull) {lines[tarnum] =3D new Array();}
	if (dots[tarnum]=3D=3Dnull) {dots[tarnum] =3D new Array();}
	if (odots[tarnum]=3D=3Dnull) {odots[tarnum] =3D new Array();}
	imgs[tarnum] =3D new Image();
	imgs[tarnum].onload =3D function() {
		var oldcurTarget =3D curTarget;
		curTarget =3D tarnum;
		drawTarget();
		curTarget =3D oldcurTarget;
	}
	imgs[tarnum].src =3D imgpath;
}

function settool(curel,tarnum,mode) {
	var mydiv =3D document.getElementById("drawtools"+tarnum);
	var mycel       =3D mydiv.getElementsByTagName("span");
	for (var i=3D0; i<mycel.length; i++) {
		mycel[i].className =3D '';
	}
	curel.className =3D "sel";
=09
	setDrawMode(tarnum,mode);
}
function setDrawMode(tarnum,mode) {
	targets[tarnum].mode =3D mode;
}
function setDotLine(tarnum,onoff) {
	targets[tarnum].dotline =3D onoff;
}

function drawTarget(x,y) {
	try {
		var ctx =3D targets[curTarget].el.getContext('2d');
	} catch(e) {
		if (!nocanvaswarning) {
			nocanvaswarning =3D true;
			alert("Your browser does not support drawing answer entry.  Please =
try again using Internet Explorer 6+ (Windows), FireFox 1.5+ (Win/Mac), =
Safari 1.3+ (Mac), Opera 9+ (Win/Mac), or Camino (Mac)");
		}
	}
	ctx.fillStyle =3D "rgb(0,0,255)";
	ctx.lineWidth =3D 2;
	ctx.strokeStyle =3D "rgb(0,0,255)";
	=
ctx.clearRect(0,0,targets[curTarget].imgwidth,targets[curTarget].imgheigh=
t);

	ctx.drawImage(imgs[curTarget],0,0);
	ctx.beginPath();
	for (var i=3D0;i<lines[curTarget].length; i++) {
		for (var j=3D0;j<lines[curTarget][i].length; j++) {
			if (j=3D=3D0) {
				ctx.moveTo(lines[curTarget][i][j][0],lines[curTarget][i][j][1]);
			} else {
				ctx.lineTo(lines[curTarget][i][j][0],lines[curTarget][i][j][1]);
			}
		}
		if (i=3D=3DcurLine && x!=3Dnull) {
			ctx.lineTo(x,y);
		}=20
	}
	for (var i=3D0; i<odots[curTarget].length; i++) {
		ctx.moveTo(odots[curTarget][i][0]+5,odots[curTarget][i][1]);
		=
ctx.arc(odots[curTarget][i][0],odots[curTarget][i][1],4,0,Math.PI*2,true)=
;
	}
	ctx.stroke();
	ctx.beginPath();
	for (var i=3D0; i<dots[curTarget].length; i++) {
		ctx.moveTo(dots[curTarget][i][0]+5,dots[curTarget][i][1]);
		=
ctx.arc(dots[curTarget][i][0],dots[curTarget][i][1],5,0,Math.PI*2,true);
	}
	ctx.fill();
	if (targets[curTarget].dotline=3D=3Dtrue) {
		ctx.beginPath();
		for (var i=3D0;i<lines[curTarget].length; i++) {
			for (var j=3D0;j<lines[curTarget][i].length; j++) {
				if ((j=3D=3D0) || Math.pow((lines[curTarget][i][j][0] - =
lines[curTarget][i][0][0]),2)+Math.pow((lines[curTarget][i][j][1] - =
lines[curTarget][i][0][1]),2)>25) {
					ctx.moveTo(lines[curTarget][i][j][0]+5,lines[curTarget][i][j][1]);
					=
ctx.arc(lines[curTarget][i][j][0],lines[curTarget][i][j][1],5,0,Math.PI*2=
,true);
				}
			}
		}
		ctx.fill();
	}
	//ctx.beginPath();
=09
=09
	encodeDraw();
	//targetOuts[curTarget].value =3D  php_serialize(lines[curTarget]) + =
';;'+php_serialize(dots[curTarget])+ =
';;'+php_serialize(odots[curTarget]);
=09
}

function encodeDraw() {
	var out =3D '';
	for (var i=3D0;i<lines[curTarget].length; i++) {
		if (i!=3D0) {
			out +=3D ';';
		}
		for (var j=3D0;j<lines[curTarget][i].length; j++) {
			if (j!=3D0) {
				out +=3D ',';
			}=20
			out +=3D	=
'('+lines[curTarget][i][j][0]+','+lines[curTarget][i][j][1]+')';
		=09
		}
	}
	out +=3D ';;';
	for (var i=3D0; i<dots[curTarget].length; i++) {
		if (i!=3D0) {
			out +=3D ',';=09
		}
		out +=3D '('+dots[curTarget][i][0]+','+dots[curTarget][i][1]+')';
	}
	out +=3D ';;';
	for (var i=3D0; i<odots[curTarget].length; i++) {
		if (i!=3D0) {
			out +=3D ',';=09
		}
		out +=3D '('+odots[curTarget][i][0]+','+odots[curTarget][i][1]+')';
	}
	targetOuts[curTarget].value =3D out;
}

function drawMouseDown(ev) {
	var mousePos =3D mouseCoords(ev);
	if (curTarget=3D=3Dnull) { //see if mouse click is inside a target; if =
so, select it
		for (i in targets) {
			var tarelpos =3D getPosition(targets[i].el);
			if (tarelpos.x<mousePos.x && (tarelpos.x+targets[i].width>mousePos.x) =
&& tarelpos.y<mousePos.y && (tarelpos.y+targets[i].height>mousePos.y)) {
				curTarget =3D i;
				break;
			}
		}
	}
	if (curTarget!=3Dnull) { //is a target currectly in action?
		mouseisdown =3D true;
		var tarelpos =3D getPosition(targets[curTarget].el);
		var mouseOff =3D {x:(mousePos.x - tarelpos.x), y: =
(mousePos.y-tarelpos.y)};
		//are we inside target region?
		if (mouseOff.x>-1 && mouseOff.x<targets[curTarget].width && =
mouseOff.y>-1 && mouseOff.y<targets[curTarget].height) {
			//see if current point
		=09
			var foundpt =3D findnearpoint(curTarget,mouseOff);
			if (foundpt=3D=3Dnull) { //not a current point
				targets[curTarget].el.style.cursor =3D =
'url('+imasroot+'/img/pendown.cur), default';
				if (targets[curTarget].mode=3D=3D1) {//if in dot mode
					dots[curTarget].push([mouseOff.x,mouseOff.y]);
					dragObj =3D {mode: 1, num: dots[curTarget].length-1};
					//targets[curTarget].el.style.cursor =3D 'move';
				} else if (targets[curTarget].mode=3D=3D2) {//if in open dot mode
					odots[curTarget].push([mouseOff.x,mouseOff.y]);
					dragObj =3D {mode: 2, num: odots[curTarget].length-1};
					//targets[curTarget].el.style.cursor =3D 'move';
				} else if (targets[curTarget].mode=3D=3D0) { //in line mode
					if (curLine=3D=3Dnull) { //start new line
						lines[curTarget].push([[mouseOff.x,mouseOff.y]]);
						curLine =3D lines[curTarget].length-1;
					} else {//in existing line
						lines[curTarget][curLine].push([mouseOff.x,mouseOff.y]);
					}
				}
			} else { //clicked on current point
				if (foundpt[0]=3D=3D0) { //if point is on line
					if (curLine=3D=3Dnull) {//not current in line
						targets[curTarget].el.style.cursor =3D 'move';
						//start dragging
						dragObj =3D {mode: 0, num: foundpt[1], subnum: foundpt[2]};
						oldpointpos =3D lines[curTarget][foundpt[1]][foundpt[2]];
						if (foundpt[2] =3D=3D lines[curTarget][foundpt[1]].length-1) {
							//if last point in line, continue line too
							curLine =3D foundpt[1];
						} else if (foundpt[2] =3D=3D 0) {
							curLine =3D foundpt[1];
							lines[curTarget][curLine].reverse();
							dragObj.subnum =3D lines[curTarget][curLine].length-1;
						}
					} else { //already in line
						if (foundpt[1]=3D=3DcurLine && foundpt[2] =3D=3D =
lines[curTarget][foundpt[1]].length-1) {
							//clicked last point; end line
							if (lines[curTarget][curLine].length<2) {
								lines[curTarget].splice(curLine,1);
							}
							curLine =3D null;
						} else {
							//if (foundpt[1]!=3DcurLine) { //so long as point is not on =
current line, add it
								targets[curTarget].el.style.cursor =3D =
'url('+imasroot+'/img/pendown.cur), default';
								lines[curTarget][curLine].push([mouseOff.x,mouseOff.y]);
							//}
						}
					}
				} else if (foundpt[0]=3D=3D1) { //if point is a dot
					targets[curTarget].el.style.cursor =3D 'move';
					dragObj =3D {mode: 1, num: foundpt[1]};
				} else if (foundpt[0]=3D=3D2) { //if point is a open dot
					targets[curTarget].el.style.cursor =3D 'move';
					dragObj =3D {mode: 2, num: foundpt[1]};
				}
			=09
			}
			drawTarget();
		} else {  //clicked outside currect target region
			if (curLine!=3Dnull) {
				if (lines[curTarget][curLine].length<2) {
					lines[curTarget].splice(curLine,1);
				}
				targets[curTarget].el.style.cursor =3D =
'url('+imasroot+'/img/pen.cur), default';
			}
			curLine =3D null;
			dragObj =3D null;
			drawTarget();
			curTarget =3D null;
		=09
		}
	}	=09
}

function findnearpoint(thetarget,mouseOff) {
	if (targets[thetarget].mode=3D=3D0) { //if in line mode
		for (var i=3D0;i<lines[thetarget].length;i++) { //check lines
			for (var j=3Dlines[thetarget][i].length-1; j>=3D0;j--) {
				var dist =3D Math.pow(lines[thetarget][i][j][0]-mouseOff.x,2) + =
Math.pow(lines[thetarget][i][j][1]-mouseOff.y,2);
				if (dist<25) {
					return [0,i,j];
				}
			}
		}
	} else if (targets[thetarget].mode=3D=3D1) {
		for (var i=3D0; i<dots[thetarget].length;i++) { //check dots
			if (Math.pow(dots[thetarget][i][0]-mouseOff.x,2) + =
Math.pow(dots[thetarget][i][1]-mouseOff.y,2)<25) {
				return [1,i];
			}
		}
	} else if (targets[thetarget].mode=3D=3D2) {
		for (var i=3D0; i<odots[thetarget].length;i++) { //check opendots
			if (Math.pow(odots[thetarget][i][0]-mouseOff.x,2) + =
Math.pow(odots[thetarget][i][1]-mouseOff.y,2)<25) {
				return [2,i];
			}
		}
	}=20
	return null;=09
}

var lastdrawmouseup =3D null;
function drawMouseUp(ev) {
	var mousePos =3D mouseCoords(ev);
	mouseisdown =3D false;
	if (curTarget!=3Dnull) {
		if (lastdrawmouseup!=3Dnull && mousePos.x=3D=3Dlastdrawmouseup.x && =
mousePos.y=3D=3Dlastdrawmouseup.y) {
			//basically a double-click which IE can handle
			if (curLine!=3Dnull && dragObj=3D=3Dnull) {
				if (lines[curTarget][curLine].length<2) {
					lines[curTarget].splice(curLine,1);
				}
				curLine =3D null;
				dragObj =3D null;
				drawTarget();
			}
		}
		if (curLine=3D=3Dnull) {
			targets[curTarget].el.style.cursor =3D 'move';
		} else {
			targets[curTarget].el.style.cursor =3D =
'url('+imasroot+'/img/pen.cur), default';
		}
	}
	lastdrawmouseup =3D mousePos;
	if (curTarget!=3Dnull && dragObj!=3Dnull) { //is a target currectly in =
action, and dragging
		var tarelpos =3D getPosition(targets[curTarget].el);
		var mouseOff =3D {x:(mousePos.x - tarelpos.x), y: =
(mousePos.y-tarelpos.y)};
		//are we inside target region?
		if (mouseOff.x>-1 && mouseOff.x<targets[curTarget].width && =
mouseOff.y>-1 && mouseOff.y<targets[curTarget].height) {
			dragObj =3D null;
		} else {
			if (dragObj.mode=3D=3D1) { //if dot, delete dot
				dots[curTarget].splice(dragObj.num,1);
			} else if (dragObj.mode=3D=3D2) { //if open dot, delete dot
				odots[curTarget].splice(dragObj.num,1);
			} else if (dragObj.mode=3D=3D0) { //if line, return pt to orig pos
				lines[curTarget][dragObj.num][dragObj.subnum] =3D oldpointpos;
			}
			dragObj =3D null;
			drawTarget();
		}
	}
}

function drawMouseMove(ev) {
	var tempTarget =3D null;
	var mousePos =3D mouseCoords(ev);
=09
	if (curTarget=3D=3Dnull) {
		for (i in targets) {
			var tarelpos =3D getPosition(targets[i].el);
			if (tarelpos.x<mousePos.x && (tarelpos.x+targets[i].width>mousePos.x) =
&& tarelpos.y<mousePos.y && (tarelpos.y+targets[i].height>mousePos.y)) {
				tempTarget =3D i;
				break;
			}
		}
	}
	if (tempTarget!=3Dnull) {
		var tarelpos =3D getPosition(targets[tempTarget].el);
		var mouseOff =3D {x:(mousePos.x - tarelpos.x), y: =
(mousePos.y-tarelpos.y)};
		if (mouseOff.x>-1 && mouseOff.x<targets[tempTarget].width && =
mouseOff.y>-1 && mouseOff.y<targets[tempTarget].height) {
			if (dragObj=3D=3Dnull) {
				if (curLine=3D=3Dnull) {
					var foundpt =3D findnearpoint(tempTarget,mouseOff);
					if (foundpt=3D=3Dnull) {
						targets[tempTarget].el.style.cursor =3D =
'url('+imasroot+'/img/pen.cur), default';
					} else {
						targets[tempTarget].el.style.cursor =3D 'move';
					}
				}
			}
		}
	}
	if (curTarget!=3Dnull) {
		var tarelpos =3D getPosition(targets[curTarget].el);
		var mouseOff =3D {x:(mousePos.x - tarelpos.x), y: =
(mousePos.y-tarelpos.y)};
		//are we inside target region?
		if (mouseOff.x>-1 && mouseOff.x<targets[curTarget].width && =
mouseOff.y>-1 && mouseOff.y<targets[curTarget].height) {
			if (dragObj=3D=3Dnull) { //notdragging
				if (curLine!=3Dnull) {
					if (mouseisdown) {
						var last =3D lines[curTarget][curLine].length-1;
						var dist =3D =
Math.pow(lines[curTarget][curLine][last][0]-mouseOff.x,2) + =
Math.pow(lines[curTarget][curLine][last][1]-mouseOff.y,2);
						//add point to line
						if (dist>25) {
							lines[curTarget][curLine].push([mouseOff.x,mouseOff.y]);
							drawTarget();
						} else {
							drawTarget(mouseOff.x,mouseOff.y);
						}
					} else {
						//draw temp line
						drawTarget(mouseOff.x,mouseOff.y);
					}
				} else { //see if we're near a point
					var foundpt =3D findnearpoint(curTarget,mouseOff);
					if (foundpt=3D=3Dnull) {
						targets[curTarget].el.style.cursor =3D =
'url('+imasroot+'/img/pen.cur), default';
					} else {
						targets[curTarget].el.style.cursor =3D 'move';
					}
				}
			} else { //dragging
				targets[curTarget].el.style.cursor =3D 'move';
				if (dragObj.mode=3D=3D0) {
					lines[curTarget][dragObj.num][dragObj.subnum] =3D =
[mouseOff.x,mouseOff.y];
				} else if (dragObj.mode=3D=3D1) {
					dots[curTarget][dragObj.num] =3D [mouseOff.x,mouseOff.y];
				} else if (dragObj.mode=3D=3D2) {
					odots[curTarget][dragObj.num] =3D [mouseOff.x,mouseOff.y];
				}
				drawTarget();
			}
			return false;
		}
	}
}

function mouseCoords(ev){
=09
	ev =3D ev || window.event;
=09
	if(ev.pageX || ev.pageY){
		return {x:ev.pageX, y:ev.pageY};
	}
=09
	var dd =3D document.documentElement, db =3D document.body;
	if (dd && (dd.scrollTop || dd.scrollLeft)) {
		var SL =3D dd.scrollLeft;
		var ST =3D dd.scrollTop;
	} else if (db) {
		var SL =3D db.scrollLeft;
		var ST =3D db.scrollTop;
	} else {
		var SL =3D 0;
		var ST =3D 0;
	}
		=09
	return {
		x:ev.clientX + SL,
		y:ev.clientY + ST
	};
=09
}
function getMouseOffset(target, ev){

	var docPos    =3D getPosition(target);
	var mousePos  =3D mouseCoords(ev);
	return {x:mousePos.x - docPos.x, y:mousePos.y - docPos.y};
}

function getPosition(e){
	var left =3D 0;
	var top  =3D 0;

	if (e.getBoundingClientRect) {
		var box =3D e.getBoundingClientRect();
		var scrollTop =3D Math.max(document.documentElement.scrollTop, =
document.body.scrollTop);
                var scrollLeft =3D =
Math.max(document.documentElement.scrollLeft, document.body.scrollLeft);
                return {x: box.left + scrollLeft, y: box.top + =
scrollTop};
	}
	while (e.offsetParent){
		left +=3D e.offsetLeft;
		top  +=3D e.offsetTop;
		e     =3D e.offsetParent;
	}
=09
	left +=3D e.offsetLeft;
	top  +=3D e.offsetTop;

	return {x:left, y:top};
}

function initCanvases() {
	for (var i=3D0;i<canvases.length;i++) {
		if (drawla[i]!=3Dnull && drawla[i].length=3D=3D3) {
			lines[canvases[i][0]] =3D drawla[i][0];
			dots[canvases[i][0]] =3D drawla[i][1];
			odots[canvases[i][0]] =3D drawla[i][2];
		}
		=
addTarget(canvases[i][0],'canvas'+canvases[i][0],imasroot+'/filter/graph/=
imgs/'+canvases[i][1],'qn'+canvases[i][0],canvases[i][2],canvases[i][3],c=
anvases[i][4],canvases[i][5],canvases[i][6],canvases[i][7],canvases[i][8]=
,canvases[i][9],canvases[i][10]);
	}
}

document.onmousedown =3D  drawMouseDown;
document.onmouseup =3D  drawMouseUp;
document.onmousemove =3D drawMouseMove;

if (typeof(initstack)!=3D'undefined') {
	initstack.push(initCanvases);
} else {
// GO1.1 Generic onload by Brothercake=20
// http://www.brothercake.com/
//setup onload function
if(typeof window.addEventListener !=3D 'undefined')
{
  //.. gecko, safari, konqueror and standard
  window.addEventListener('load', initCanvases, false);
}
else if(typeof document.addEventListener !=3D 'undefined')
{
  //.. opera 7
  document.addEventListener('load', initCanvases, false);
}
else if(typeof window.attachEvent !=3D 'undefined')
{
  //.. win/ie
  window.attachEvent('onload', initCanvases);
}
//** remove this condition to degrade older browsers
else
{
  //.. mac/ie5 and anything else that gets this far
  //if there's an existing onload function
  if(typeof window.onload =3D=3D 'function')
  {
    //store it
    var existing =3D onload;
    //add new onload handler
    window.onload =3D function()
    {
      //call existing onload function
      existing();
      //call generic onload function
      initCanvases();
    };
  }
  else
  {
    //setup onload function
    window.onload =3D initCanvases;
  }
}
}


------=_NextPart_000_0000_01CCCC6C.E76A4F20--
